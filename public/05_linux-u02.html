<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U-02 íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„± ì„¤ì • - ì‹¤ìŠµ ì‹œë®¬ë ˆì´í„°</title>
    <!-- Prism for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', 'Malgun Gothic', sans-serif; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); min-height: 100vh; padding: 20px; color: #333; }
        .container { max-width: 1600px; margin: 0 auto; }
        
        /* í—¤ë” ìŠ¤íƒ€ì¼ - UNIX í…Œë§ˆ (ì§„í•œ ë„¤ì´ë¹„/ë¸”ë£¨) */
        .header { background: white; padding: 30px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; border-bottom: 5px solid #0d6efd; }
        .header h1 { color: #0d6efd; font-size: 32px; margin-bottom: 10px; font-weight: 800; }
        .header p { color: #666; font-size: 16px; }
        
        /* íƒ­ ìŠ¤íƒ€ì¼ */
        .mode-tabs { display: flex; gap: 15px; margin-bottom: 20px; }
        .mode-tab { flex: 1; padding: 20px; background: rgba(255, 255, 255, 0.9); border: none; border-radius: 12px; cursor: pointer; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.05); text-align: left; position: relative; overflow: hidden; }
        .mode-tab:hover { transform: translateY(-3px); }
        .mode-tab.active { background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%); color: white; }
        .mode-icon { font-size: 32px; margin-bottom: 10px; }
        .mode-title { font-size: 18px; font-weight: bold; margin-bottom: 5px; }
        .mode-desc { font-size: 13px; opacity: 0.8; }
        
        /* ì»¨í…ì¸  ì˜ì—­ */
        .content-wrapper { display: none; }
        .content-wrapper.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ì²´í¬ë¦¬ìŠ¤íŠ¸ */
        .progress-indicator { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .progress-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; color: #2c3e50; }
        .checklist { list-style: none; padding: 0; display: flex; gap: 15px; flex-wrap: wrap; }
        .checklist-item { padding: 8px 15px; background: #f8f9fa; border-radius: 20px; display: flex; align-items: center; gap: 8px; font-size: 14px; border: 1px solid #e9ecef; transition: all 0.3s; }
        .checklist-item.completed { background: #d4edda; border-color: #c3e6cb; color: #155724; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

        /* ë©”ì¸ íŒ¨ë„ ê·¸ë¦¬ë“œ */
        .main-content { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 20px; margin-bottom: 20px; }
        .panel { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); display: flex; flex-direction: column; height: 100%; }
        
        .panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 3px solid #f0f0f0; }
        .panel-title { font-size: 20px; font-weight: bold; color: #2c3e50; display: flex; align-items: center; gap: 10px; }
        
        .status-badge { padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: bold; }
        .status-vulnerable { background: #dc3545; color: white; }
        .status-secure { background: #198754; color: white; }
        .status-editing { background: #ffc107; color: #000; }

        /* í„°ë¯¸ë„ ì—ë””í„° ìŠ¤íƒ€ì¼ */
        .code-editor { background: #2d2d2d; border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; flex-grow: 1; min-height: 500px; box-shadow: inset 0 0 20px rgba(0,0,0,0.5); }
        .editor-toolbar { background: #404040; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #505050; }
        .toolbar-title { color: #fff; font-size: 13px; font-weight: bold; font-family: 'Consolas', monospace; }
        .toolbar-hint { color: #ffc107; font-size: 12px; margin-left: 15px; flex: 1; }
        
        .edit-toggle-btn { background: #0d6efd; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: bold; transition: all 0.3s; }
        .edit-toggle-btn:hover { background: #0b5ed7; }
        .edit-toggle-btn.editing { background: #198754; }

        .code-display { background: #2d2d2d; padding: 15px; overflow: auto; flex-grow: 1; color: #f8f8f2; }
        .code-display pre { margin: 0; font-family: 'Consolas', 'Monaco', monospace; font-size: 14px; line-height: 1.6; }
        
        .code-textarea { width: 100%; height: 100%; background: #2d2d2d; color: #f8f8f2; border: none; padding: 15px; font-family: 'Consolas', 'Monaco', monospace; font-size: 14px; line-height: 1.6; resize: none; outline: none; flex-grow: 1; display: none; }
        .code-textarea:focus { outline: none; background: #333; }

        /* ë²„íŠ¼ ê·¸ë£¹ */
        .control-panel { display: flex; gap: 15px; margin-top: 20px; }
        .btn { flex: 1; padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 5px; }
        .btn-analyze { background: #dc3545; color: white; }
        .btn-validate { background: #198754; color: white; }
        .btn-hint { background: #ffc107; color: #000; }
        .btn-reset { background: #6c757d; color: white; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        /* í”¼ë“œë°± ë° íŒíŠ¸ */
        .feedback { margin-top: 20px; }
        .feedback-item { padding: 15px; margin-bottom: 10px; border-radius: 8px; animation: slideIn 0.3s ease-out; }
        .feedback-error { background: #fff5f5; border-left: 4px solid #dc3545; color: #842029; }
        .feedback-success { background: #d4edda; border-left: 4px solid #198754; color: #0f5132; }
        .feedback-warning { background: #fff3cd; border-left: 4px solid #ffc107; color: #664d03; }
        
        .hint-panel { background: #fff8dc; border: 2px solid #ffc107; border-radius: 10px; padding: 20px; margin-top: 20px; display: none; }
        .hint-panel.active { display: block; animation: slideIn 0.3s ease-out; }
        .hint-step { background: white; padding: 12px; margin-bottom: 10px; border-radius: 6px; border-left: 3px solid #ffc107; }
        .hint-code { background: #2d2d2d; color: #f8f8f2; padding: 8px; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 13px; margin-top: 5px; border: 1px solid #444; }

        /* ì •ë³´ ì„¹ì…˜ */
        .info-section { margin-bottom: 20px; }
        .info-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #0d6efd; display: flex; align-items: center; gap: 8px; }
        .info-content { color: #555; line-height: 1.6; font-size: 15px; }
        
        .kisa-badge { display: inline-block; padding: 4px 8px; background: #6c757d; color: white; border-radius: 4px; font-size: 12px; margin-bottom: 5px; }

        @keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
        @media (max-width: 1200px) { .main-content { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <span class="kisa-badge">ì£¼ìš”ì •ë³´í†µì‹ ê¸°ë°˜ì‹œì„¤ ê¸°ìˆ ì  ì·¨ì•½ì  ê°€ì´ë“œ</span>
            <h1>ğŸ›¡ï¸ U-02 íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„± ì„¤ì •</h1>
            <p>ì‹œìŠ¤í…œ ê³„ì •ì˜ íŒ¨ìŠ¤ì›Œë“œ ì„¤ì • ì‹œ ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ë“±ì„ ì¡°í•©í•˜ì—¬ ìœ ì¶”í•˜ê¸° ì–´ë µê²Œ ì„¤ì •í•˜ëŠ”ì§€ ì ê²€í•©ë‹ˆë‹¤.</p>
        </div>

        <!-- íƒ­ ë©”ë‰´ (RHEL vs Debian) -->
        <div class="mode-tabs">
            <button class="mode-tab active" onclick="switchMode('rhel')">
                <div class="mode-icon"><i class="fa-brands fa-redhat"></i></div>
                <div class="mode-title">RHEL/CentOS ì„¤ì •</div>
                <div class="mode-desc">/etc/security/pwquality.conf ì ê²€</div>
            </button>
            <button class="mode-tab" onclick="switchMode('debian')">
                <div class="mode-icon"><i class="fa-brands fa-ubuntu"></i></div>
                <div class="mode-title">Ubuntu/Debian ì„¤ì •</div>
                <div class="mode-desc">/etc/pam.d/common-password ì ê²€</div>
            </button>
        </div>

        <!-- =========================
             1. RHEL/CentOS ëª¨ë“œ (/etc/security/pwquality.conf)
             ========================= -->
        <div id="rhel-mode" class="content-wrapper active">
            <div class="progress-indicator">
                <div class="progress-title">âœ… ì ê²€ ì§„í–‰ë„</div>
                <ul class="checklist" id="progressChecklistRHEL">
                    <li class="checklist-item"><span class="checklist-icon">â¬œ</span> ì„¤ì • íŒŒì¼ í™•ì¸</li>
                    <li class="checklist-item"><span class="checklist-icon">â¬œ</span> ì·¨ì•½í•œ ì„¤ì • ì‹ë³„</li>
                    <li class="checklist-item"><span class="checklist-icon">â¬œ</span> ë³´ì•ˆ ì¡°ì¹˜ ì™„ë£Œ</li>
                </ul>
            </div>

            <div class="main-content">
                <!-- ì™¼ìª½: ì—ë””í„° íŒ¨ë„ -->
                <div class="panel">
                    <div class="panel-header">
                        <span class="panel-title"><i class="fa-regular fa-file-code"></i> ì„¤ì • íŒŒì¼ í¸ì§‘ê¸°</span>
                        <span class="status-badge status-vulnerable" id="statusRHEL">ì·¨ì•½í•¨</span>
                    </div>

                    <div class="code-editor">
                        <div class="editor-toolbar">
                            <span class="toolbar-title">/etc/security/pwquality.conf</span>
                            <span class="toolbar-hint">ğŸ’¡ ìµœì†Œ ê¸¸ì´ ë° ë¬¸ì ì¡°í•© ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.</span>
                            <button class="edit-toggle-btn" id="editBtnRHEL" onclick="toggleEdit('rhel')">âœï¸ í¸ì§‘ (vi)</button>
                        </div>
                        <div class="code-display">
                            <pre><code class="language-bash" id="codeDisplayRHEL"># Configuration for pam_pwquality.so
#
# [ì·¨ì•½] ëª¨ë“  ì„¤ì •ì´ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ê¸°ë³¸ê°’(ë¯¸í¡)ìœ¼ë¡œ ë™ì‘í•¨
#
# minlen = 8
# dcredit = 0
# ucredit = 0
# lcredit = 0
# ocredit = 0</code></pre>
                        </div>
                        <textarea class="code-textarea" id="editorRHEL" spellcheck="false"># Configuration for pam_pwquality.so
#
# [ì·¨ì•½] ëª¨ë“  ì„¤ì •ì´ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ê¸°ë³¸ê°’(ë¯¸í¡)ìœ¼ë¡œ ë™ì‘í•¨
#
# minlen = 8
# dcredit = 0
# ucredit = 0
# lcredit = 0
# ocredit = 0</textarea>
                    </div>

                    <div class="control-panel">
                        <button class="btn btn-analyze" onclick="analyzeRHEL()">ğŸ” ì§„ë‹¨í•˜ê¸°</button>
                        <button class="btn btn-validate" onclick="validateRHEL()" id="validateBtnRHEL" disabled>âœ… ì´í–‰ê²€ì¦</button>
                        <button class="btn btn-hint" onclick="toggleHint('rhel')">ğŸ’¡ ê°€ì´ë“œ</button>
                        <button class="btn btn-reset" onclick="resetRHEL()">ğŸ”„ ì´ˆê¸°í™”</button>
                    </div>

                    <div class="feedback" id="feedbackRHEL"></div>

                    <div class="hint-panel" id="hintPanelRHEL">
                        <div class="info-title">ğŸ’¡ KISA ì¡°ì¹˜ ê°€ì´ë“œ (RHEL/CentOS)</div>
                        <div class="hint-step">
                            <strong>1. ì„¤ì • íŒŒì¼ ìˆ˜ì •</strong>
                            <p><code>/etc/security/pwquality.conf</code> íŒŒì¼ì—ì„œ ë‹¤ìŒ ì˜µì…˜ë“¤ì˜ ì£¼ì„ì„ í•´ì œí•˜ê³  ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.</p>
                            <ul style="list-style-type: disc; margin-left: 20px; margin-bottom: 10px;">
                                <li><code>minlen</code>: íŒ¨ìŠ¤ì›Œë“œ ìµœì†Œ ê¸¸ì´ (8 ì´ìƒ ê¶Œì¥)</li>
                                <li><code>dcredit</code>: ìˆ«ì í¬í•¨ ì—¬ë¶€ (ìŒìˆ˜ ê°’ ì…ë ¥ ì‹œ í•„ìˆ˜ í¬í•¨)</li>
                                <li><code>ucredit</code>: ëŒ€ë¬¸ì í¬í•¨ ì—¬ë¶€</li>
                                <li><code>lcredit</code>: ì†Œë¬¸ì í¬í•¨ ì—¬ë¶€</li>
                                <li><code>ocredit</code>: íŠ¹ìˆ˜ë¬¸ì í¬í•¨ ì—¬ë¶€</li>
                            </ul>
                            <div class="hint-code">
# ì˜ˆì‹œ: ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¡°í•© 8ìë¦¬ ì´ìƒ
minlen = 8
dcredit = -1
ucredit = -1
lcredit = -1
ocredit = -1
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì˜¤ë¥¸ìª½: ì„¤ëª… íŒ¨ë„ -->
                <div class="panel">
                    <div class="panel-header">
                        <span class="panel-title">ğŸ“Š ì·¨ì•½ì  ìƒì„¸ ë¶„ì„</span>
                    </div>
                    <div>
                        <div class="info-section">
                            <div class="info-title"><i class="fa-solid fa-bullseye"></i> ì ê²€ ëª©ì </div>
                            <div class="info-content">
                                íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„± ì„¤ì •ì„ í†µí•´ ë¬´ì‘ìœ„ ëŒ€ì… ê³µê²©(Brute Force) ë° ì‚¬ì „ ëŒ€ì… ê³µê²©(Dictionary Attack)ì— ëŒ€ë¹„í•˜ê³ , ìœ ì¶”í•˜ê¸° ì–´ë ¤ìš´ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
                            </div>
                        </div>
                        <div class="info-section">
                            <div class="info-title"><i class="fa-solid fa-triangle-exclamation"></i> ìœ„í—˜ì„±</div>
                            <div class="info-content">
                                <p style="color: #dc3545; font-weight: bold;">[ìƒ] ë§¤ìš° ìœ„í—˜</p>
                                <p>íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„±ì´ ë‚®ì„ ê²½ìš°, ê³µê²©ìê°€ ì‰½ê²Œ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì¶”ì¸¡í•˜ê±°ë‚˜ ìë™í™”ëœ ë„êµ¬ë¥¼ í†µí•´ í¬ë™í‚¹í•˜ì—¬ ì‹œìŠ¤í…œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            </div>
                        </div>
                        <div class="info-section">
                            <div class="info-title"><i class="fa-solid fa-check-double"></i> íŒë‹¨ ê¸°ì¤€</div>
                            <div class="info-content">
                                <ul style="list-style-type: disc; margin-left: 20px;">
                                    <li><strong>ì–‘í˜¸:</strong> ì˜ë¬¸(ëŒ€/ì†Œë¬¸ì), ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¤‘ 2ì¢…ë¥˜ ì´ìƒ ì¡°í•©í•˜ì—¬ ìµœì†Œ 10ìë¦¬ ì´ìƒ ë˜ëŠ” 3ì¢…ë¥˜ ì´ìƒ ì¡°í•©í•˜ì—¬ ìµœì†Œ 8ìë¦¬ ì´ìƒì˜ íŒ¨ìŠ¤ì›Œë“œ ì„¤ì •ì´ ì ìš©ëœ ê²½ìš°</li>
                                    <li><strong>ì·¨ì•½:</strong> íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„± ì„¤ì •ì´ ë˜ì–´ ìˆì§€ ì•Šê±°ë‚˜, ê¸°ì¤€ì— ë¯¸í¡í•œ ê²½ìš°</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- =========================
             2. Ubuntu/Debian ëª¨ë“œ (/etc/pam.d/common-password)
             ========================= -->
        <div id="debian-mode" class="content-wrapper">
            <div class="progress-indicator">
                <div class="progress-title">âœ… ì ê²€ ì§„í–‰ë„</div>
                <ul class="checklist" id="progressChecklistDebian">
                    <li class="checklist-item"><span class="checklist-icon">â¬œ</span> ì„¤ì • íŒŒì¼ í™•ì¸</li>
                    <li class="checklist-item"><span class="checklist-icon">â¬œ</span> ì·¨ì•½í•œ ì„¤ì • ì‹ë³„</li>
                    <li class="checklist-item"><span class="checklist-icon">â¬œ</span> ë³´ì•ˆ ì¡°ì¹˜ ì™„ë£Œ</li>
                </ul>
            </div>

            <div class="main-content">
                <!-- ì™¼ìª½: ì—ë””í„° íŒ¨ë„ -->
                <div class="panel">
                    <div class="panel-header">
                        <span class="panel-title"><i class="fa-regular fa-file-code"></i> ì„¤ì • íŒŒì¼ í¸ì§‘ê¸°</span>
                        <span class="status-badge status-vulnerable" id="statusDebian">ì·¨ì•½í•¨</span>
                    </div>

                    <div class="code-editor">
                        <div class="editor-toolbar">
                            <span class="toolbar-title">/etc/pam.d/common-password</span>
                            <span class="toolbar-hint">ğŸ’¡ pam_cracklib.so ëª¨ë“ˆ ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.</span>
                            <button class="edit-toggle-btn" id="editBtnDebian" onclick="toggleEdit('debian')">âœï¸ í¸ì§‘ (vi)</button>
                        </div>
                        <div class="code-display">
                            <pre><code class="language-bash" id="codeDisplayDebian"># /etc/pam.d/common-password

# [ì·¨ì•½] ë³µì¡ì„± ê²€ì¦ ëª¨ë“ˆì´ ì£¼ì„ ì²˜ë¦¬ë¨
# password requisite pam_cracklib.so retry=3 minlen=8 difok=3

password        [success=1 default=ignore]      pam_unix.so obscure sha512
password        required                        pam_deny.so
password        required                        pam_permit.so</code></pre>
                        </div>
                        <textarea class="code-textarea" id="editorDebian" spellcheck="false"># /etc/pam.d/common-password

# [ì·¨ì•½] ë³µì¡ì„± ê²€ì¦ ëª¨ë“ˆì´ ì£¼ì„ ì²˜ë¦¬ë¨
# password requisite pam_cracklib.so retry=3 minlen=8 difok=3

password        [success=1 default=ignore]      pam_unix.so obscure sha512
password        required                        pam_deny.so
password        required                        pam_permit.so</textarea>
                    </div>

                    <div class="control-panel">
                        <button class="btn btn-analyze" onclick="analyzeDebian()">ğŸ” ì§„ë‹¨í•˜ê¸°</button>
                        <button class="btn btn-validate" onclick="validateDebian()" id="validateBtnDebian" disabled>âœ… ì´í–‰ê²€ì¦</button>
                        <button class="btn btn-hint" onclick="toggleHint('debian')">ğŸ’¡ ê°€ì´ë“œ</button>
                        <button class="btn btn-reset" onclick="resetDebian()">ğŸ”„ ì´ˆê¸°í™”</button>
                    </div>

                    <div class="feedback" id="feedbackDebian"></div>

                    <div class="hint-panel" id="hintPanelDebian">
                        <div class="info-title">ğŸ’¡ KISA ì¡°ì¹˜ ê°€ì´ë“œ (Ubuntu/Debian)</div>
                        <div class="hint-step">
                            <strong>1. pam_cracklib ëª¨ë“ˆ í™œì„±í™”</strong>
                            <p><code>/etc/pam.d/common-password</code> íŒŒì¼ì—ì„œ <code>pam_cracklib.so</code> ë¼ì¸ì˜ ì£¼ì„ì„ í•´ì œí•˜ê³  ì˜µì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤.</p>
                            <div class="hint-code">
password requisite pam_cracklib.so retry=3 minlen=8 difok=3 ucredit=-1 lcredit=-1 dcredit=-1 ocredit=-1
                            </div>
                            <p class="mt-2"><small>â€» ì‹œìŠ¤í…œì— ë”°ë¼ <code>pam_pwquality.so</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</small></p>
                        </div>
                    </div>
                </div>

                <!-- ì˜¤ë¥¸ìª½: ì„¤ëª… íŒ¨ë„ -->
                <div class="panel">
                    <div class="panel-header">
                        <span class="panel-title">ğŸ“Š ì·¨ì•½ì  ìƒì„¸ ë¶„ì„</span>
                    </div>
                    <div>
                        <div class="info-section">
                            <div class="info-title"><i class="fa-solid fa-bullseye"></i> ì ê²€ ëª©ì </div>
                            <div class="info-content">
                                íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„± ì„¤ì •ì„ í†µí•´ ë¬´ì‘ìœ„ ëŒ€ì… ê³µê²© ë° ì‚¬ì „ ëŒ€ì… ê³µê²©ì— ëŒ€ë¹„í•˜ê³ , ìœ ì¶”í•˜ê¸° ì–´ë ¤ìš´ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
                            </div>
                        </div>
                        <div class="info-section">
                            <div class="info-title"><i class="fa-solid fa-triangle-exclamation"></i> ìœ„í—˜ì„±</div>
                            <div class="info-content">
                                <p style="color: #dc3545; font-weight: bold;">[ìƒ] ë§¤ìš° ìœ„í—˜</p>
                                <p>íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„±ì´ ë‚®ì„ ê²½ìš°, ê³µê²©ìê°€ ì‰½ê²Œ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì¶”ì¸¡í•˜ê±°ë‚˜ í¬ë™í‚¹í•˜ì—¬ ì‹œìŠ¤í…œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            </div>
                        </div>
                        <div class="info-section">
                            <div class="info-title"><i class="fa-solid fa-check-double"></i> íŒë‹¨ ê¸°ì¤€</div>
                            <div class="info-content">
                                <ul style="list-style-type: disc; margin-left: 20px;">
                                    <li><strong>ì–‘í˜¸:</strong> ì˜ë¬¸(ëŒ€/ì†Œë¬¸ì), ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¤‘ 2ì¢…ë¥˜ ì´ìƒ ì¡°í•©í•˜ì—¬ ìµœì†Œ 10ìë¦¬ ì´ìƒ ë˜ëŠ” 3ì¢…ë¥˜ ì´ìƒ ì¡°í•©í•˜ì—¬ ìµœì†Œ 8ìë¦¬ ì´ìƒì˜ íŒ¨ìŠ¤ì›Œë“œ ì„¤ì •ì´ ì ìš©ëœ ê²½ìš°</li>
                                    <li><strong>ì·¨ì•½:</strong> íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„± ì„¤ì •ì´ ë˜ì–´ ìˆì§€ ì•Šê±°ë‚˜, ê¸°ì¤€ì— ë¯¸í¡í•œ ê²½ìš°</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    
    <script>
        // === ê³µí†µ ìœ í‹¸ë¦¬í‹° ===
        function switchMode(mode) {
            document.querySelectorAll('.mode-tab').forEach(tab => tab.classList.remove('active'));
            event.currentTarget.classList.add('active');
            
            document.querySelectorAll('.content-wrapper').forEach(w => w.classList.remove('active'));
            document.getElementById(mode + '-mode').classList.add('active');
        }

        function toggleHint(mode) {
            const panelId = mode === 'rhel' ? 'hintPanelRHEL' : 'hintPanelDebian';
            document.getElementById(panelId).classList.toggle('active');
        }

        function updateChecklist(listId, index, isCompleted) {
            const list = document.getElementById(listId);
            const items = list.getElementsByTagName('li');
            if (items[index]) {
                const icon = items[index].querySelector('.checklist-icon');
                if (isCompleted) {
                    items[index].classList.add('completed');
                    icon.textContent = 'âœ…';
                } else {
                    items[index].classList.remove('completed');
                    icon.textContent = 'â¬œ';
                }
            }
        }

        function setStatus(suffix, status) {
            const el = document.getElementById(`status${suffix}`);
            if(status === 'vulnerable') {
                el.textContent = 'ì·¨ì•½í•¨';
                el.className = 'status-badge status-vulnerable';
            } else if (status === 'secure') {
                el.textContent = 'ì–‘í˜¸';
                el.className = 'status-badge status-secure';
            } else {
                el.textContent = 'ìˆ˜ì • ì¤‘';
                el.className = 'status-badge status-editing';
            }
        }

        function toggleEdit(mode) {
            const isRHEL = mode === 'rhel';
            const suffix = isRHEL ? 'RHEL' : 'Debian';
            
            const displayEl = document.querySelector(`#codeDisplay${suffix}`).parentElement;
            const editorEl = document.getElementById(`editor${suffix}`);
            const btn = document.getElementById(`editBtn${suffix}`);
            const codeEl = document.getElementById(`codeDisplay${suffix}`);

            const isEditing = isRHEL ? isEditingRHEL : isEditingDebian;

            if (!isEditing) {
                displayEl.style.display = 'none';
                editorEl.style.display = 'block';
                editorEl.value = codeEl.textContent;
                editorEl.focus();
                btn.innerHTML = '<i class="fa-solid fa-save"></i> ì €ì¥ (:wq)';
                btn.classList.add('editing');
            } else {
                displayEl.style.display = 'block';
                editorEl.style.display = 'none';
                codeEl.textContent = editorEl.value;
                if(window.Prism) Prism.highlightElement(codeEl);
                btn.innerHTML = 'âœï¸ í¸ì§‘ (vi)';
                btn.classList.remove('editing');
                setStatus(suffix, 'editing');
            }

            if(isRHEL) isEditingRHEL = !isEditingRHEL;
            else isEditingDebian = !isEditingDebian;
        }

        // === 1. RHEL/CentOS Logic (/etc/security/pwquality.conf) ===
        let isEditingRHEL = false;

        function analyzeRHEL() {
            updateChecklist('progressChecklistRHEL', 0, true);
            const code = document.getElementById('editorRHEL').value;
            
            // ëª¨ë“  ì„¤ì •ì´ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
            const lines = code.split('\n');
            let isVulnerable = true;
            for(let line of lines) {
                line = line.trim();
                if(!line.startsWith('#') && line.includes('=')) {
                    isVulnerable = false;
                    break;
                }
            }
            
            if (isVulnerable) {
                updateChecklist('progressChecklistRHEL', 1, true);
                document.getElementById('feedbackRHEL').innerHTML = 
                    `<div class="feedback-item feedback-error">
                        <strong>ğŸš¨ ì·¨ì•½ì  ë°œê²¬ (VULNERABLE)</strong>
                        <p>ëª¨ë“  ë³µì¡ì„± ì„¤ì •ì´ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ê¸°ë³¸ê°’(ë¯¸í¡)ìœ¼ë¡œ ë™ì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                     </div>`;
                document.getElementById('validateBtnRHEL').disabled = false;
                setStatus('RHEL', 'vulnerable');
            }
        }

        function validateRHEL() {
            const code = document.getElementById('editorRHEL').value;
            
            // ê°„ë‹¨í•œ ìœ íš¨ì„± ê²€ì‚¬: minlenì´ ì£¼ì„ í•´ì œë˜ê³  8 ì´ìƒì¸ì§€, credit ì„¤ì •ì´ í•˜ë‚˜ë¼ë„ ìˆëŠ”ì§€ í™•ì¸
            const minlenMatch = code.match(/^[^#]*minlen\s*=\s*(\d+)/m);
            const hasCredit = /^[^#]*(dcredit|ucredit|lcredit|ocredit)\s*=\s*-\d+/m.test(code);

            let isSecure = false;
            if (minlenMatch && parseInt(minlenMatch[1]) >= 8 && hasCredit) {
                isSecure = true;
            }

            if (isSecure) {
                updateChecklist('progressChecklistRHEL', 2, true);
                document.getElementById('feedbackRHEL').innerHTML = 
                    `<div class="feedback-item feedback-success">
                        <strong>ğŸ‰ ì¡°ì¹˜ ì™„ë£Œ (SECURE)</strong>
                        <p>íŒ¨ìŠ¤ì›Œë“œ ìµœì†Œ ê¸¸ì´ ë° ë¬¸ì ì¡°í•© ì„¤ì •ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                     </div>`;
                setStatus('RHEL', 'secure');
            } else {
                updateChecklist('progressChecklistRHEL', 2, false);
                document.getElementById('feedbackRHEL').innerHTML = 
                    `<div class="feedback-item feedback-warning">
                        <strong>âš ï¸ ì¡°ì¹˜ ë¯¸í¡</strong>
                        <p><code>minlen</code>ì„ 8 ì´ìƒìœ¼ë¡œ ì„¤ì •í•˜ê³ , ë¬¸ì ì¡°í•©(credit) ì„¤ì •ì„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                     </div>`;
                setStatus('RHEL', 'editing');
            }
        }

        function resetRHEL() {
            const initialCode = `# Configuration for pam_pwquality.so
#
# [ì·¨ì•½] ëª¨ë“  ì„¤ì •ì´ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ê¸°ë³¸ê°’(ë¯¸í¡)ìœ¼ë¡œ ë™ì‘í•¨
#
# minlen = 8
# dcredit = 0
# ucredit = 0
# lcredit = 0
# ocredit = 0`;
            document.getElementById('editorRHEL').value = initialCode;
            document.getElementById('codeDisplayRHEL').textContent = initialCode;
            if(window.Prism) Prism.highlightElement(document.getElementById('codeDisplayRHEL'));
            
            document.getElementById('feedbackRHEL').innerHTML = '';
            document.getElementById('validateBtnRHEL').disabled = true;
            setStatus('RHEL', 'vulnerable');
            
            updateChecklist('progressChecklistRHEL', 0, false);
            updateChecklist('progressChecklistRHEL', 1, false);
            updateChecklist('progressChecklistRHEL', 2, false);
        }

        // === 2. Ubuntu/Debian Logic (/etc/pam.d/common-password) ===
        let isEditingDebian = false;

        function analyzeDebian() {
            updateChecklist('progressChecklistDebian', 0, true);
            const code = document.getElementById('editorDebian').value;
            
            // pam_cracklib.so ê°€ ì£¼ì„ ì²˜ë¦¬ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
            const isVulnerable = /^#\s*password\s+requisite\s+pam_cracklib.so/m.test(code);

            if (isVulnerable) {
                updateChecklist('progressChecklistDebian', 1, true);
                document.getElementById('feedbackDebian').innerHTML = 
                    `<div class="feedback-item feedback-error">
                        <strong>ğŸš¨ ì·¨ì•½ì  ë°œê²¬ (VULNERABLE)</strong>
                        <p>íŒ¨ìŠ¤ì›Œë“œ ë³µì¡ì„±ì„ ê²€ì¦í•˜ëŠ” <code>pam_cracklib.so</code> ëª¨ë“ˆì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
                     </div>`;
                document.getElementById('validateBtnDebian').disabled = false;
                setStatus('Debian', 'vulnerable');
            }
        }

        function validateDebian() {
            const code = document.getElementById('editorDebian').value;
            
            // pam_cracklib.so ì£¼ì„ í•´ì œ ë° ì˜µì…˜ í™•ì¸
            const cracklibMatch = code.match(/^[^#\s]*\s*password\s+requisite\s+pam_cracklib.so(.*)/m);
            
            let isSecure = false;
            if (cracklibMatch) {
                const options = cracklibMatch[1];
                if (options.includes('minlen=') && options.includes('credit=')) {
                    isSecure = true;
                }
            }

            if (isSecure) {
                updateChecklist('progressChecklistDebian', 2, true);
                document.getElementById('feedbackDebian').innerHTML = 
                    `<div class="feedback-item feedback-success">
                        <strong>ğŸ‰ ì¡°ì¹˜ ì™„ë£Œ (SECURE)</strong>
                        <p><code>pam_cracklib.so</code> ëª¨ë“ˆì´ í™œì„±í™”ë˜ì—ˆê³  ë³µì¡ì„± ì˜µì…˜ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                     </div>`;
                setStatus('Debian', 'secure');
            } else {
                updateChecklist('progressChecklistDebian', 2, false);
                document.getElementById('feedbackDebian').innerHTML = 
                    `<div class="feedback-item feedback-warning">
                        <strong>âš ï¸ ì¡°ì¹˜ ë¯¸í¡</strong>
                        <p><code>pam_cracklib.so</code> ëª¨ë“ˆì˜ ì£¼ì„ì„ í•´ì œí•˜ê³  <code>minlen</code> ë“±ì˜ ì˜µì…˜ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>
                     </div>`;
                 setStatus('Debian', 'editing');
            }
        }

        function resetDebian() {
            const initialCode = `# /etc/pam.d/common-password

# [ì·¨ì•½] ë³µì¡ì„± ê²€ì¦ ëª¨ë“ˆì´ ì£¼ì„ ì²˜ë¦¬ë¨
# password requisite pam_cracklib.so retry=3 minlen=8 difok=3

password        [success=1 default=ignore]      pam_unix.so obscure sha512
password        required                        pam_deny.so
password        required                        pam_permit.so`;
            document.getElementById('editorDebian').value = initialCode;
            document.getElementById('codeDisplayDebian').textContent = initialCode;
            if(window.Prism) Prism.highlightElement(document.getElementById('codeDisplayDebian'));

            document.getElementById('feedbackDebian').innerHTML = '';
            document.getElementById('validateBtnDebian').disabled = true;
            setStatus('Debian', 'vulnerable');
            
            updateChecklist('progressChecklistDebian', 0, false);
            updateChecklist('progressChecklistDebian', 1, false);
            updateChecklist('progressChecklistDebian', 2, false);
        }
    </script>
</body>
</html>