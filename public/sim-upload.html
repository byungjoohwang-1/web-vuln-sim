<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸ˆìœµê¶Œ íŒŒì¼ ì—…ë¡œë“œ ì·¨ì•½ì  ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .code-font { font-family: 'Courier New', monospace; }
    </style>
</head>
<body class="bg-gray-100 p-4">

    <!-- í‰ê°€ê¸°ì¤€ ë°°ë„ˆ -->
    <div class="max-w-7xl mx-auto mb-4">
        <div class="bg-red-600 text-white p-4 rounded-lg shadow-lg">
            <div class="flex items-center gap-3">
                <i class="fas fa-clipboard-check text-2xl"></i>
                <div>
                    <h1 class="font-bold text-lg">ì „ìê¸ˆìœµê¸°ë°˜ì‹œì„¤ ë³´ì•ˆ ì·¨ì•½ì  í‰ê°€ê¸°ì¤€ - WEB-SER-002</h1>
                    <p class="text-sm">ì•…ì„±íŒŒì¼ ì—…ë¡œë“œ | ìœ„í—˜ë„: 5 (ë§¤ìš° ë†’ìŒ) | í†µì œêµ¬ë¶„: 5.8.4 ì„œë¹„ìŠ¤ ë³´í˜¸</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            
            <!-- ì¢Œì¸¡: ì·¨ì•½í•œ ì‹œìŠ¤í…œ -->
            <div class="space-y-4">
                
                <!-- ì€í–‰ í—¤ë” -->
                <div class="bg-blue-600 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-building-columns text-2xl"></i>
                        <div>
                            <h2 class="text-xl font-bold">OOì€í–‰</h2>
                            <p class="text-sm">ì¸í„°ë„·ë±…í‚¹ - ê¸ˆìœµìƒë‹´ ì‹ ì²­ ì‹œìŠ¤í…œ</p>
                        </div>
                    </div>
                    <div class="mt-2 bg-red-500 px-3 py-1 rounded text-sm">
                        <i class="fas fa-exclamation-triangle"></i> ì·¨ì•½ì : íŒŒì¼ í™•ì¥ì ê²€ì¦ ë¯¸í¡
                    </div>
                </div>

                <!-- ì—…ë¡œë“œ í¼ -->
                <div class="bg-white p-5 rounded-lg shadow-lg">
                    <h3 class="font-bold text-lg mb-3 flex items-center gap-2">
                        <i class="fas fa-file-upload text-red-600"></i>
                        ê¸ˆìœµìƒë‹´ ì‹ ì²­ì„œ ì œì¶œ
                    </h3>
                    
                    <p class="text-sm text-gray-600 mb-4">
                        ì¬ì§ì¦ëª…ì„œ, ì†Œë“ì¦ë¹™ì„œë¥˜ ë“±ì„ ì²¨ë¶€í•´ì£¼ì„¸ìš”
                    </p>
                    
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4 bg-gray-50">
                        <i class="fas fa-cloud-upload-alt text-5xl text-gray-300 mb-3"></i>
                        <p class="text-sm text-gray-600 mb-4">ì—…ë¡œë“œí•  íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”</p>
                        
                        <select id="fileSelect" class="w-full p-2 border border-gray-300 rounded mb-3 bg-white">
                            <option value="document.pdf" data-type="safe">ğŸ“„ ì¬ì§ì¦ëª…ì„œ.pdf (ì •ìƒ íŒŒì¼)</option>
                            <option value="salary.jpg" data-type="safe">ğŸ“¸ ê¸‰ì—¬ëª…ì„¸ì„œ.jpg (ì •ìƒ ì´ë¯¸ì§€)</option>
                            <option value="webshell.jsp" data-type="webshell">ğŸ’€ invoice.jsp (ì›¹ì‰˜ JSP)</option>
                            <option value="backdoor.php" data-type="webshell">ğŸ’€ receipt.php (ì›¹ì‰˜ PHP)</option>
                            <option value="malware.exe" data-type="exe">ğŸ’£ document.exe (ì‹¤í–‰ íŒŒì¼)</option>
                        </select>
                    </div>
                    
                    <div class="flex justify-between">
                        <button onclick="resetUpload()" 
                                class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">
                            <i class="fas fa-redo"></i> ì´ˆê¸°í™”
                        </button>
                        <button onclick="uploadFile()" 
                                class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded">
                            <i class="fas fa-upload"></i> íŒŒì¼ ì—…ë¡œë“œ
                        </button>
                    </div>
                </div>

                <!-- ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… -->
                <div class="bg-gray-800 text-white p-4 rounded-lg shadow-lg">
                    <h3 class="font-bold mb-3 flex items-center gap-2">
                        <i class="fas fa-info-circle text-red-400"></i>
                        ì›¹ì‰˜ (Web Shell) ì´ë€?
                    </h3>
                    <div class="text-sm space-y-2">
                        <p>ì—…ë¡œë“œ ì·¨ì•½ì ì„ í†µí•´ í•´ì»¤ê°€ ì›ê²©ì—ì„œ ì›¹ ì„œë²„ë¥¼ ì¡°ì¢…í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±í•œ ì›¹ ìŠ¤í¬ë¦½íŠ¸</p>
                        <div class="bg-gray-900 p-3 rounded mt-2 code-font text-xs">
                            <span class="text-red-400">// ì›¹ì‰˜ ì˜ˆì‹œ (JSP)</span><br/>
                            &lt;% Runtime.getRuntime()<br/>
                            &nbsp;&nbsp;.exec(request.getParameter("cmd")); %&gt;
                        </div>
                        <p class="text-gray-400 text-xs mt-2">
                            âš ï¸ ì—…ë¡œë“œ í›„ ì‹¤í–‰ ì‹œ ì‹œìŠ¤í…œ ëª…ë ¹ì–´ ì‹¤í–‰ ê°€ëŠ¥
                        </p>
                    </div>
                </div>

                <!-- ì·¨ì•½í•œ ì½”ë“œ -->
                <div class="bg-gray-900 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-red-400">
                            <i class="fas fa-skull-crossbones"></i> ì·¨ì•½í•œ Java ì½”ë“œ
                        </h3>
                        <span class="text-xs bg-red-600 px-2 py-1 rounded">ìœ„í—˜</span>
                    </div>
                    <pre class="code-font text-xs overflow-x-auto"><code><span class="text-gray-500">// âŒ ì·¨ì•½í•œ ì½”ë“œ - íŒŒì¼ ê²€ì¦ ì—†ìŒ</span>
@PostMapping("/upload")
public String uploadFile(
    @RequestParam("file") MultipartFile file) {
    
    <span class="text-red-400">// íŒŒì¼ëª…ë§Œ ë°›ì•„ì„œ ì €ì¥! (ìœ„í—˜)</span>
    String fileName = file.getOriginalFilename();
    String uploadPath = "/uploads/" + fileName;
    
    <span class="text-red-400">// í™•ì¥ì ê²€ì¦ ì—†ì´ ì €ì¥</span>
    file.transferTo(new File(uploadPath));
    
    return "success";
}</code></pre>
                </div>

            </div>

            <!-- ìš°ì¸¡: ê²°ê³¼ ë° ì•ˆì „í•œ ì½”ë“œ -->
            <div class="space-y-4">
                
                <!-- ì„œë²„ ë¡œê·¸ -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-gray-800 text-white px-4 py-3 flex justify-between items-center">
                        <h3 class="font-bold">
                            <i class="fas fa-terminal"></i> ì„œë²„ ë¡œê·¸
                        </h3>
                        <span id="statusBadge" class="text-xs bg-green-500 text-gray-900 px-3 py-1 rounded code-font">
                            READY
                        </span>
                    </div>
                    <div id="serverLog" class="p-5 min-h-[300px] bg-gray-900 text-green-400 code-font text-xs space-y-1 overflow-auto">
                        <div class="text-gray-500">[SYSTEM] Server ready. Waiting for upload...</div>
                    </div>
                </div>

                <!-- ê³µê²© ì„±ê³µ ì˜¤ë²„ë ˆì´ -->
                <div id="hackedOverlay" class="hidden fixed inset-0 bg-red-600 bg-opacity-95 flex flex-col items-center justify-center z-50">
                    <i class="fas fa-biohazard text-8xl text-white mb-6 animate-pulse"></i>
                    <h2 class="text-4xl font-bold text-white mb-4">SERVER COMPROMISED!</h2>
                    <p class="text-xl text-white text-center mb-2">ì›¹ì‰˜ì´ ì—…ë¡œë“œë˜ì–´ ì„œë²„ê°€ ì¥ì•…ë˜ì—ˆìŠµë‹ˆë‹¤</p>
                    <p class="text-white text-center mb-6 opacity-90">ê³µê²©ìê°€ ì‹œìŠ¤í…œ ì „ì²´ì— ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤</p>
                    <button onclick="resetUpload()" 
                            class="bg-white text-red-600 px-8 py-3 rounded-lg font-bold hover:bg-gray-100 shadow-lg">
                        <i class="fas fa-redo"></i> ì‹œìŠ¤í…œ ë³µêµ¬
                    </button>
                </div>

                <!-- ê³µê²© ë‹¨ê³„ -->
                <div id="attackStages" class="hidden bg-red-100 border-l-4 border-red-600 p-4 rounded-lg">
                    <h4 class="font-bold text-red-700 mb-2 flex items-center gap-2">
                        <i class="fas fa-list-ol"></i> ê³µê²© ì§„í–‰ ë‹¨ê³„
                    </h4>
                    <div id="stagesContent" class="text-sm text-red-700 space-y-1"></div>
                </div>

                <!-- ì•ˆì „í•œ ì½”ë“œ -->
                <div class="bg-gray-900 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-green-400">
                            <i class="fas fa-shield-halved"></i> ì•ˆì „í•œ Java ì½”ë“œ
                        </h3>
                        <span class="text-xs bg-green-600 px-2 py-1 rounded">ê¶Œì¥</span>
                    </div>
                    <pre class="code-font text-xs overflow-x-auto max-h-[400px]"><code><span class="text-green-400">// âœ… ì•ˆì „í•œ ì½”ë“œ - ë‹¤ì¸µ ê²€ì¦</span>
@PostMapping("/upload")
public String uploadFile(
    @RequestParam("file") MultipartFile file) 
    throws Exception {
    
    <span class="text-green-400">// 1. í™•ì¥ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦</span>
    String fileName = file.getOriginalFilename();
    String extension = fileName.substring(
        fileName.lastIndexOf(".") + 1).toLowerCase();
    
    Set&lt;String&gt; allowedExtensions = Set.of(
        "jpg", "jpeg", "png", "pdf", "hwp"
    );
    
    if (!allowedExtensions.contains(extension)) {
        throw new SecurityException(
            "í—ˆìš©ë˜ì§€ ì•Šì€ í™•ì¥ì: " + extension);
    }
    
    <span class="text-green-400">// 2. íŒŒì¼ MIME íƒ€ì… ê²€ì¦</span>
    String contentType = file.getContentType();
    Set&lt;String&gt; allowedMimeTypes = Set.of(
        "image/jpeg", "image/png", 
        "application/pdf", "application/x-hwp"
    );
    
    if (!allowedMimeTypes.contains(contentType)) {
        throw new SecurityException(
            "í—ˆìš©ë˜ì§€ ì•Šì€ íŒŒì¼ íƒ€ì…");
    }
    
    <span class="text-green-400">// 3. íŒŒì¼ ë§¤ì§ ë„˜ë²„ ê²€ì¦ (ì‹¤ì œ ë‚´ìš©)</span>
    byte[] fileBytes = file.getBytes();
    if (!isValidFileSignature(fileBytes, extension)) {
        throw new SecurityException(
            "íŒŒì¼ ë‚´ìš©ì´ í™•ì¥ìì™€ ì¼ì¹˜í•˜ì§€ ì•ŠìŒ");
    }
    
    <span class="text-green-400">// 4. íŒŒì¼ í¬ê¸° ì œí•œ (10MB)</span>
    if (file.getSize() > 10 * 1024 * 1024) {
        throw new IllegalArgumentException(
            "íŒŒì¼ í¬ê¸° ì´ˆê³¼ (ìµœëŒ€ 10MB)");
    }
    
    <span class="text-green-400">// 5. ì•ˆì „í•œ íŒŒì¼ëª… ìƒì„± (UUID)</span>
    String safeFileName = UUID.randomUUID().toString() 
        + "." + extension;
    
    <span class="text-green-400">// 6. ì‹¤í–‰ ë¶ˆê°€ëŠ¥í•œ ë””ë ‰í† ë¦¬ì— ì €ì¥</span>
    String uploadPath = "/data/uploads/" + safeFileName;
    Path path = Paths.get(uploadPath);
    Files.write(path, fileBytes);
    
    <span class="text-green-400">// 7. DBì— ë©”íƒ€ë°ì´í„° ì €ì¥</span>
    FileMetadata metadata = new FileMetadata();
    metadata.setOriginalName(fileName);
    metadata.setSafeName(safeFileName);
    metadata.setUploadTime(LocalDateTime.now());
    fileRepository.save(metadata);
    
    return "success";
}

<span class="text-green-400">// íŒŒì¼ ë§¤ì§ ë„˜ë²„ ê²€ì¦</span>
private boolean isValidFileSignature(
    byte[] bytes, String extension) {
    
    if (bytes.length < 4) return false;
    
    <span class="text-green-400">// JPEG: FF D8 FF</span>
    if (extension.equals("jpg") || extension.equals("jpeg")) {
        return bytes[0] == (byte)0xFF && 
               bytes[1] == (byte)0xD8 && 
               bytes[2] == (byte)0xFF;
    }
    
    <span class="text-green-400">// PNG: 89 50 4E 47</span>
    if (extension.equals("png")) {
        return bytes[0] == (byte)0x89 && 
               bytes[1] == (byte)0x50 && 
               bytes[2] == (byte)0x4E && 
               bytes[3] == (byte)0x47;
    }
    
    <span class="text-green-400">// PDF: 25 50 44 46</span>
    if (extension.equals("pdf")) {
        return bytes[0] == (byte)0x25 && 
               bytes[1] == (byte)0x50 && 
               bytes[2] == (byte)0x44 && 
               bytes[3] == (byte)0x46;
    }
    
    return true;
}</code></pre>
                </div>

                <!-- ë°©ì–´ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
                <div class="bg-white p-4 rounded-lg shadow-lg">
                    <h3 class="font-bold mb-3 flex items-center gap-2">
                        <i class="fas fa-list-check text-red-600"></i>
                        íŒŒì¼ ì—…ë¡œë“œ ë°©ì–´ ì²´í¬ë¦¬ìŠ¤íŠ¸
                    </h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>í™•ì¥ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸:</strong> jpg, png, pdfë§Œ í—ˆìš©</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>MIME íƒ€ì… ê²€ì¦:</strong> Content-Type í™•ì¸</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ë§¤ì§ ë„˜ë²„ ê²€ì¦:</strong> íŒŒì¼ ì‹¤ì œ ë‚´ìš© í™•ì¸</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>íŒŒì¼ëª… ë³€ê²½:</strong> UUIDë¡œ ì•ˆì „í•œ ì´ë¦„ ìƒì„±</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì‹¤í–‰ ê¶Œí•œ ì œê±°:</strong> ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ ì‹¤í–‰ ë¶ˆê°€</div>
                        </div>
                    </div>
                </div>

                <!-- í‰ê°€ íŒì • -->
                <div id="judgementBox" class="hidden bg-gray-900 text-white p-4 rounded-lg">
                    <h3 class="font-bold text-indigo-400 mb-2 text-sm">
                        <i class="fas fa-gavel"></i> í‰ê°€ íŒì •
                    </h3>
                    <div class="text-xs space-y-1">
                        <div><strong>í‰ê°€í•­ëª©:</strong> WEB-SER-002 ì•…ì„±íŒŒì¼ ì—…ë¡œë“œ</div>
                        <div><strong>íŒì •:</strong> <span id="judgement"></span></div>
                        <div><strong>ê·¼ê±°:</strong> <span id="evidence"></span></div>
                    </div>
                </div>

                <!-- í”¼í•´ ì‹œë‚˜ë¦¬ì˜¤ -->
                <div id="damageBox" class="hidden bg-red-700 text-white p-4 rounded-lg">
                    <h3 class="font-bold mb-3">
                        <i class="fas fa-fire"></i> ê¸ˆìœµê¶Œ ì•…ì„±íŒŒì¼ ì—…ë¡œë“œ í”¼í•´
                    </h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex gap-2">
                            <span class="font-bold">1.</span>
                            <div><strong>ì‹œìŠ¤í…œ ëª…ë ¹ì–´ ì‹¤í–‰</strong><br>ì„œë²„ ì™„ì „ ì¥ì•…</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">2.</span>
                            <div><strong>DB ì ‘ê·¼</strong><br>ê³ ê° ì •ë³´ ëŒ€ëŸ‰ ìœ ì¶œ</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">3.</span>
                            <div><strong>ì¸ì ‘ ì„œë²„ ì¹¨ì…</strong><br>ë‚´ë¶€ë§ í™•ì‚°</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">4.</span>
                            <div><strong>ëœì„¬ì›¨ì–´ ë°°í¬</strong><br>ì‹œìŠ¤í…œ ì•”í˜¸í™”</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        function resetUpload() {
            document.getElementById('fileSelect').value = 'document.pdf';
            document.getElementById('serverLog').innerHTML = 
                '<div class="text-gray-500">[SYSTEM] Server ready. Waiting for upload...</div>';
            document.getElementById('hackedOverlay').classList.add('hidden');
            document.getElementById('attackStages').classList.add('hidden');
            document.getElementById('judgementBox').classList.add('hidden');
            document.getElementById('damageBox').classList.add('hidden');
            document.getElementById('statusBadge').textContent = 'READY';
            document.getElementById('statusBadge').className = 'text-xs bg-green-500 text-gray-900 px-3 py-1 rounded code-font';
        }

        async function uploadFile() {
            var select = document.getElementById('fileSelect');
            var fileName = select.value;
            var fileType = select.options[select.selectedIndex].dataset.type;
            var logBox = document.getElementById('serverLog');
            var badge = document.getElementById('statusBadge');
            
            document.getElementById('attackStages').classList.add('hidden');
            document.getElementById('judgementBox').classList.add('hidden');
            document.getElementById('damageBox').classList.add('hidden');

            badge.textContent = 'UPLOADING...';
            badge.className = 'text-xs bg-yellow-500 text-gray-900 px-3 py-1 rounded code-font animate-pulse';
            
            addLog('[UPLOAD] Receiving file: ' + fileName, 'text-blue-400');
            await sleep(500);
            addLog('[INFO] File size: ' + Math.floor(Math.random() * 500 + 100) + ' KB', 'text-gray-400');
            await sleep(500);
            
            if (fileType === 'safe') {
                addLog('[VALIDATION] Extension check: PASS', 'text-green-400');
                await sleep(300);
                addLog('[VALIDATION] MIME type check: PASS', 'text-green-400');
                await sleep(300);
                addLog('[SUCCESS] File saved to /uploads/' + fileName, 'text-green-400');
                
                badge.textContent = 'SUCCESS';
                badge.className = 'text-xs bg-green-500 text-gray-900 px-3 py-1 rounded code-font';
                
                document.getElementById('judgementBox').classList.remove('hidden');
                document.getElementById('judgement').innerHTML = '<span class="text-green-400">ì–‘í˜¸</span>';
                document.getElementById('evidence').textContent = 'í—ˆìš©ëœ íŒŒì¼ í˜•ì‹';
                
            } else if (fileType === 'webshell') {
                addLog('[VALIDATION] Extension check: FAILED', 'text-red-400');
                await sleep(300);
                addLog('[WARNING] Suspicious file detected: JSP/PHP', 'text-yellow-400');
                await sleep(300);
                addLog('[DANGER] No validation - File uploaded!', 'text-red-500');
                await sleep(500);
                addLog('[ALERT] Web shell deployed at /uploads/' + fileName, 'text-red-500 font-bold');
                await sleep(500);
                addLog('[CRITICAL] Executing remote commands...', 'text-red-500 font-bold');
                
                document.getElementById('attackStages').classList.remove('hidden');
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. ì›¹ì‰˜ íŒŒì¼ ì—…ë¡œë“œ (JSP/PHP)</div>' +
                    '<div>2. ì—…ë¡œë“œëœ íŒŒì¼ ì‹¤í–‰ ê¶Œí•œ íšë“</div>' +
                    '<div>3. ì‹œìŠ¤í…œ ëª…ë ¹ì–´ ì‹¤í–‰ (whoami, ls ë“±)</div>' +
                    '<div>4. DB ì ‘ê·¼ ë° ê³ ê° ì •ë³´ íƒˆì·¨</div>' +
                    '<div>5. ì¸ì ‘ ì„œë²„ë¡œ ì¹¨ì… í™•ì‚°</div>';
                
                await sleep(1000);
                
                badge.textContent = 'HACKED';
                badge.className = 'text-xs bg-red-500 text-white px-3 py-1 rounded code-font';
                
                document.getElementById('judgementBox').classList.remove('hidden');
                document.getElementById('judgement').innerHTML = '<span class="text-red-400">ì·¨ì•½</span>';
                document.getElementById('evidence').textContent = 'ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥';
                document.getElementById('damageBox').classList.remove('hidden');
                
                document.getElementById('hackedOverlay').classList.remove('hidden');
                
            } else if (fileType === 'exe') {
                addLog('[VALIDATION] Extension check: FAILED', 'text-red-400');
                await sleep(300);
                addLog('[WARNING] Executable file detected: EXE', 'text-yellow-400');
                await sleep(300);
                addLog('[DANGER] File uploaded without validation!', 'text-red-500');
                await sleep(500);
                addLog('[ALERT] Malware deployed!', 'text-red-500 font-bold');
                
                document.getElementById('attackStages').classList.remove('hidden');
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. ì‹¤í–‰ íŒŒì¼ ì—…ë¡œë“œ (EXE)</div>' +
                    '<div>2. ì„œë²„ì—ì„œ ì•…ì„±ì½”ë“œ ì‹¤í–‰</div>' +
                    '<div>3. ëœì„¬ì›¨ì–´ ë°°í¬ ì‹œì‘</div>' +
                    '<div>4. íŒŒì¼ ì•”í˜¸í™” ì§„í–‰</div>';
                
                await sleep(1000);
                
                badge.textContent = 'INFECTED';
                badge.className = 'text-xs bg-red-500 text-white px-3 py-1 rounded code-font';
                
                document.getElementById('judgementBox').classList.remove('hidden');
                document.getElementById('judgement').innerHTML = '<span class="text-red-400">ì·¨ì•½</span>';
                document.getElementById('evidence').textContent = 'ì‹¤í–‰ íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥';
                document.getElementById('damageBox').classList.remove('hidden');
            }
        }

        function addLog(msg, colorClass) {
            var div = document.createElement('div');
            div.className = colorClass || 'text-gray-400';
            div.textContent = '> ' + msg;
            var container = document.getElementById('serverLog');
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        function sleep(ms) {
            return new Promise(function(resolve) {
                setTimeout(resolve, ms);
            });
        }
    </script>
</body>
</html>