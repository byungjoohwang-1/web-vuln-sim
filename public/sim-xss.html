<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>XSS Simulation</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto;}
        .container { display: flex; gap: 20px; }
        .box { flex: 1; border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
        .vuln { background-color: #ffe6e6; }
        .secure { background-color: #e6fffa; }
        input { width: 100%; padding: 8px; margin: 10px 0; box-sizing: border-box; }
        button { padding: 8px 16px; cursor: pointer; }
        
        /* ì½”ë“œ ê°€ì´ë“œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .code-section { margin-top: 40px; border-top: 2px solid #eee; padding-top: 20px; }
        details { background: #f9f9f9; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ddd; }
        summary { padding: 10px; cursor: pointer; font-weight: bold; }
        pre { background: #333; color: #fff; padding: 15px; overflow-x: auto; }
        .comment { color: #999; }
        .result-box { margin-top: 10px; padding: 10px; border: 1px dashed #999; background: #fff; min-height: 30px; }
    </style>
</head>
<body>
    <a href="index.html">â† Main Menu</a>
    <h1>ğŸ’¥ í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ (XSS)</h1>
    
    <div style="background:#f4f7f9; padding:15px; margin-bottom:20px; border-left:5px solid #007bff;">
        <h3>ğŸ“˜ ì·¨ì•½ì  ê°œìš” (Overview)</h3>
        <p><strong>[KR]</strong> ê²€ì¦ë˜ì§€ ì•Šì€ ì™¸ë¶€ ì…ë ¥ê°’ì´ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë˜ì–´ ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ê°€ ë™ì‘í•˜ëŠ” ê³µê²©ì…ë‹ˆë‹¤.</p>
        <p><strong>[EN]</strong> Unvalidated external input executes in the browser, allowing malicious scripts to run.</p>
    </div>

    <div class="container">
        <!-- ì·¨ì•½í•œ ëª¨ë“œ (Vulnerable) -->
        <div class="box vuln">
            <h2>ğŸš« ì·¨ì•½í•œ ëª¨ë“œ (Vulnerable)</h2>
            <p>Method: <code>innerHTML</code></p>
            <p>[KR] ê³µê²©: <code>onerror</code> ì´ë²¤íŠ¸ë¥¼ í†µí•œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</p>
            <p>[EN] Attack: Execute script via <code>onerror</code> event</p>
            <input type="text" id="vulnInput" value="<img src=x onerror=alert('XSS')>">
            <button onclick="document.getElementById('vResult').innerHTML = document.getElementById('vulnInput').value">Run</button>
            <div id="vResult" class="result-box">Result here...</div>
        </div>

        <!-- ì•ˆì „í•œ ëª¨ë“œ (Secure) -->
        <div class="box secure">
            <h2>âœ… ì•ˆì „í•œ ëª¨ë“œ (Secure)</h2>
            <p>Method: <code>textContent</code></p>
            <p>[KR] ë°©ì–´: í…ìŠ¤íŠ¸ë¡œë§Œ ì²˜ë¦¬ (ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì•ˆ ë¨)</p>
            <p>[EN] Defense: Treat as text only (Script not executed)</p>
            <input type="text" id="secureInput" value="<img src=x onerror=alert('XSS')>">
            <button onclick="document.getElementById('sResult').textContent = document.getElementById('secureInput').value">Run</button>
            <div id="sResult" class="result-box">Result here...</div>
        </div>
    </div>

    <!-- í•˜ë‹¨ ì½”ë“œ ì˜ˆì œ ì„¹ì…˜ -->
    <div class="code-section">
        <h2>ğŸ“š ì–¸ì–´ë³„ ì‹œíì–´ ì½”ë”© ê°€ì´ë“œ (Secure Coding Guide)</h2>
        
        <!-- Java ì˜ˆì œ -->
        <details>
            <summary>â˜• Java (JSP)</summary>
            <pre><code><span class="comment">// [KR] JSTLì˜ c:out íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ìˆ˜ë¬¸ìë¥¼ ë³€í™˜(Escape)í•œë‹¤.</span>
<span class="comment">// [EN] Use JSTL c:out tag to escape special characters.</span>

<span class="comment">// âŒ ì·¨ì•½ (Vulnerable)</span>
&lt;%= request.getParameter("msg") %&gt;

<span class="comment">// âœ… ì•ˆì „ (Secure)</span>
&lt;c:out value="${param.msg}" /&gt;</code></pre>
        </details>

        <!-- Python ì˜ˆì œ -->
        <details>
            <summary>ğŸ Python (Flask/Django)</summary>
            <pre><code><span class="comment"># [KR] í…œí”Œë¦¿ ì—”ì§„ì˜ ìë™ ì´ìŠ¤ì¼€ì´í”„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤. safe í•„í„° ì‚¬ìš© ì£¼ì˜.</span>
<span class="comment"># [EN] Use auto-escaping of template engines. Be careful with 'safe' filter.</span>

<span class="comment"># âŒ ì·¨ì•½ (Vulnerable): safe í•„í„°ëŠ” ì´ìŠ¤ì¼€ì´í”„ë¥¼ ë¹„í™œì„±í™”í•¨</span>
{{ user_input | safe }}

<span class="comment"># âœ… ì•ˆì „ (Secure): ê¸°ë³¸ì ìœ¼ë¡œ ìë™ ì´ìŠ¤ì¼€ì´í”„ ì ìš©ë¨</span>
{{ user_input }}</code></pre>
        </details>
    </div>
</body>
</html>