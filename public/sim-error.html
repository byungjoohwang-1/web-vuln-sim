<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Error Exposure Simulation</title>
    <script src="config.js"></script>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto;}
        .container { display: flex; gap: 20px; }
        .box { flex: 1; border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
        .vuln { background-color: #ffe6e6; }
        .secure { background-color: #e6fffa; }
        button { padding: 10px 20px; cursor: pointer; width: 100%; }
        
        .code-section { margin-top: 40px; border-top: 2px solid #eee; padding-top: 20px; }
        details { background: #f9f9f9; margin-bottom: 10px; border-radius: 5px; border: 1px solid #ddd; }
        summary { padding: 10px; cursor: pointer; font-weight: bold; }
        pre { background: #333; color: #fff; padding: 15px; overflow-x: auto; }
        .comment { color: #999; }
    </style>
</head>
<body>
    <a href="index.html">â† Main Menu</a>
    <h1>âš ï¸ ì˜¤ë¥˜ ë©”ì‹œì§€ ì •ë³´ ë…¸ì¶œ</h1>

    <div style="background:#f4f7f9; padding:15px; margin-bottom:20px; border-left:5px solid #007bff;">
        <h3>ğŸ“˜ ì·¨ì•½ì  ê°œìš” (Overview)</h3>
        <p><strong>[KR]</strong> í”„ë¡œê·¸ë¨ ì˜¤ë¥˜ ë°œìƒ ì‹œ, ì‹œìŠ¤í…œì˜ ë‚´ë¶€ ì •ë³´(ê²½ë¡œ, DB ì¿¼ë¦¬, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ ë“±)ê°€ í¬í•¨ëœ ìƒì„¸í•œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ìì—ê²Œ ê·¸ëŒ€ë¡œ ë³´ì—¬ì£¼ëŠ” ì·¨ì•½ì ì…ë‹ˆë‹¤.</p>
    </div>
    
    <div class="container">
        <!-- ì·¨ì•½í•œ ëª¨ë“œ -->
        <div class="box vuln">
            <h2>ğŸš« ì·¨ì•½í•œ ëª¨ë“œ</h2>
            <p>[KR] ìƒí™©: DB ì—°ê²° ì˜¤ë¥˜ ë°œìƒ</p>
            <p>[EN] Scenario: DB Connection Failed</p>
            <p style="font-size:0.9em; color:#666;">ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„œë²„ì—ì„œ ê³ ì˜ë¡œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.</p>
            <button onclick="runTest('vulnerableError')">ì—ëŸ¬ ìœ ë°œ (Trigger Error)</button>
        </div>

        <!-- ì•ˆì „í•œ ëª¨ë“œ -->
        <div class="box secure">
            <h2>âœ… ì•ˆì „í•œ ëª¨ë“œ</h2>
            <p>[KR] ë°©ì–´: ì¼ë°˜ì ì¸ ë©”ì‹œì§€ë¡œ ëŒ€ì²´</p>
            <p>[EN] Defense: Show generic message</p>
            <p style="font-size:0.9em; color:#666;">ì‚¬ìš©ìì—ê²ŒëŠ” ë‹¨ìˆœ ì•ˆë‚´ ë¬¸êµ¬ë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
            <button onclick="runTest('secureError')">ì—ëŸ¬ ìœ ë°œ (Trigger Error)</button>
        </div>
    </div>

    <div class="code-section">
        <h2>ğŸ“š ì–¸ì–´ë³„ ì‹œíì–´ ì½”ë”© ê°€ì´ë“œ</h2>
        
        <!-- Python ì˜ˆì œ -->
        <details>
            <summary>ğŸ Python (Django/Flask)</summary>
            <pre><code><span class="comment"># [KR] ìš´ì˜ í™˜ê²½(Production)ì—ì„œëŠ” ë””ë²„ê·¸ ëª¨ë“œë¥¼ ë°˜ë“œì‹œ êº¼ì•¼ í•©ë‹ˆë‹¤.</span>
<span class="comment"># [EN] Must disable DEBUG mode in production.</span>

<span class="comment"># settings.py (Django)</span>

<span class="comment"># âŒ ì·¨ì•½ (Vulnerable)</span>
<span class="comment"># DEBUG = True</span>

<span class="comment"># âœ… ì•ˆì „ (Secure)</span>
DEBUG = False
ALLOWED_HOSTS = ['yourdomain.com']</code></pre>
        </details>

        <!-- Java ì˜ˆì œ -->
        <details>
            <summary>â˜• Java (Spring)</summary>
            <pre><code><span class="comment">// [KR] ì˜ˆì™¸ ì²˜ë¦¬(try-catch)ë¥¼ í†µí•´ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ì¶œë ¥ì„ ë°©ì§€í•©ë‹ˆë‹¤.</span>
<span class="comment">// [EN] Use try-catch to prevent printing stack traces.</span>

try {
    // Business Logic...
} catch (Exception e) {
    <span class="comment">// âŒ ì·¨ì•½: e.printStackTrace(); (ì½˜ì†”/í™”ë©´ì— ë…¸ì¶œë¨)</span>
    
    <span class="comment">// âœ… ì•ˆì „: ë¡œê·¸ íŒŒì¼ì—ë§Œ ê¸°ë¡í•˜ê³ , ì‚¬ìš©ìì—ê²ŒëŠ” ë³„ë„ ë©”ì‹œì§€ ì „ë‹¬</span>
    logger.error("System Error", e);
    return "error_page";
}</code></pre>
        </details>
    </div>

    <script>
        function runTest(funcName) {
            // ë³„ë„ì˜ ì…ë ¥ê°’ ì—†ì´ í•¨ìˆ˜ë§Œ í˜¸ì¶œ
            window.open(`${BASE_URL}/${funcName}`, '_blank');
        }
    </script>
</body>
</html>