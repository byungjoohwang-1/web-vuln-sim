<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸ˆìœµê¶Œ ì·¨ì•½í•œ ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬ ì ˆì°¨ ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .code-font { font-family: 'Courier New', monospace; }
        .fade-in { animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-100 p-4">

    <!-- í‰ê°€ê¸°ì¤€ ë°°ë„ˆ -->
    <div class="max-w-7xl mx-auto mb-4">
        <div class="bg-red-600 text-white p-4 rounded-lg shadow-lg">
            <div class="flex items-center gap-3">
                <i class="fas fa-clipboard-check text-2xl"></i>
                <div>
                    <h1 class="font-bold text-lg">ì „ìê¸ˆìœµê¸°ë°˜ì‹œì„¤ ë³´ì•ˆ ì·¨ì•½ì  í‰ê°€ê¸°ì¤€ - WEB-SER-042</h1>
                    <p class="text-sm">ì·¨ì•½í•œ ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬ ì ˆì°¨ (PR) | ìœ„í—˜ë„: 4 (ë†’ìŒ) | í†µì œêµ¬ë¶„: 5.2.3 ì¸ì¦ ê´€ë¦¬</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            
            <!-- ì¢Œì¸¡: ì·¨ì•½í•œ ì‹œìŠ¤í…œ -->
            <div class="space-y-4">
                
                <!-- ì€í–‰ í—¤ë” -->
                <div class="bg-blue-600 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-building-columns text-2xl"></i>
                        <div>
                            <h2 class="text-xl font-bold">ì­ì€í–‰</h2>
                            <p class="text-sm">ì¸í„°ë„·ë±…í‚¹ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</p>
                        </div>
                    </div>
                    <div class="mt-2 bg-red-500 px-3 py-1 rounded text-sm">
                        <i class="fas fa-exclamation-triangle"></i> ì·¨ì•½ì : ë³¸ì¸ ì¸ì¦ ì ˆì°¨ ë¯¸í¡
                    </div>
                </div>

                <!-- ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í¼ -->
                <div id="stepContainer" class="bg-white p-5 rounded-lg shadow-lg">
                    <!-- Step 1: ì´ˆê¸° í™”ë©´ -->
                    <div id="step1" class="step-content">
                        <h3 class="font-bold text-lg mb-3 flex items-center gap-2">
                            <i class="fas fa-key text-red-600"></i>
                            ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
                        </h3>
                        
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 text-sm">
                            <p><i class="fas fa-info-circle text-blue-500"></i> ê°€ì…í•˜ì‹  ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì‹œë©´ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°œì†¡í•´ ë“œë¦½ë‹ˆë‹¤.</p>
                        </div>

                        <label class="block text-sm font-bold mb-2">ì‚¬ìš©ì ID</label>
                        <input type="text" id="userId" 
                               class="w-full p-2 border border-gray-300 rounded mb-3" 
                               value="user12345">
                        
                        <label class="block text-sm font-bold mb-2">ì´ë©”ì¼ ì£¼ì†Œ</label>
                        <input type="email" id="userEmail" 
                               class="w-full p-2 border border-gray-300 rounded mb-3" 
                               placeholder="example@email.com"
                               value="user@email.com">
                        
                        <div class="flex justify-between mt-4">
                            <button onclick="resetAll()" 
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">
                                <i class="fas fa-redo"></i> ì´ˆê¸°í™”
                            </button>
                            <button onclick="sendTempPassword()" 
                                    class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded">
                                <i class="fas fa-paper-plane"></i> ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡ ì™„ë£Œ -->
                    <div id="step2" class="step-content hidden">
                        <h3 class="font-bold text-lg mb-3 flex items-center gap-2 text-green-600">
                            <i class="fas fa-check-circle"></i>
                            ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡ ì™„ë£Œ
                        </h3>
                        
                        <div class="bg-green-50 border-l-4 border-green-500 p-4 mb-4">
                            <p class="text-sm mb-2"><i class="fas fa-envelope text-green-600"></i> ì´ë©”ì¼ë¡œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                            <p class="text-xs text-gray-600">ìˆ˜ì‹  ë©”ì¼í•¨ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
                        </div>

                        <div class="bg-gray-100 p-3 rounded mb-3">
                            <p class="text-xs text-gray-600 mb-1">ì„ì‹œ ë¹„ë°€ë²ˆí˜¸:</p>
                            <p class="font-mono text-lg font-bold" id="tempPassword">temp1234</p>
                        </div>

                        <button onclick="loginWithTemp()" 
                                class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">
                            <i class="fas fa-sign-in-alt"></i> ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸
                        </button>
                    </div>
                </div>

                <!-- ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ë²„íŠ¼ -->
                <div class="bg-gray-800 text-white p-4 rounded-lg shadow-lg">
                    <h3 class="font-bold mb-3 flex items-center gap-2">
                        <i class="fas fa-flask text-red-400"></i>
                        ê³µê²© ì‹œë‚˜ë¦¬ì˜¤
                    </h3>
                    <div class="space-y-2">
                        <button onclick="attackScenario(1)" 
                                class="w-full text-left bg-red-900 hover:bg-red-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-user-secret"></i> ì‹œë‚˜ë¦¬ì˜¤ 1: ë³¸ì¸ì¸ì¦ ìš°íšŒ (ì´ë©”ì¼ë§Œ ì…ë ¥)
                        </button>
                        <button onclick="attackScenario(2)" 
                                class="w-full text-left bg-orange-900 hover:bg-orange-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-robot"></i> ì‹œë‚˜ë¦¬ì˜¤ 2: ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸
                        </button>
                        <button onclick="attackScenario(3)" 
                                class="w-full text-left bg-purple-900 hover:bg-purple-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-clock"></i> ì‹œë‚˜ë¦¬ì˜¤ 3: ìœ íš¨ê¸°ê°„ ì—†ëŠ” ì¬ì„¤ì • ë§í¬
                        </button>
                        <button onclick="attackScenario(4)" 
                                class="w-full text-left bg-yellow-900 hover:bg-yellow-800 px-3 py-2 rounded text-sm">
                            <i class="fas fa-globe"></i> ì‹œë‚˜ë¦¬ì˜¤ 4: íƒ€ì¸ ê³„ì • íƒˆì·¨ ê³µê²©
                        </button>
                    </div>
                </div>

                <!-- ì·¨ì•½í•œ ì½”ë“œ -->
                <div class="bg-gray-900 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-red-400">
                            <i class="fas fa-skull-crossbones"></i> ì·¨ì•½í•œ Java ì½”ë“œ
                        </h3>
                        <span class="text-xs bg-red-600 px-2 py-1 rounded">ìœ„í—˜</span>
                    </div>
                    <pre class="code-font text-xs overflow-x-auto"><code><span class="text-gray-500">// âŒ ì·¨ì•½í•œ ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬ ë¡œì§</span>
@PostMapping("/findPassword")
public String findPassword(String userId, 
                          String email) {
    
    User user = userRepository.findByUserId(userId);
    
    <span class="text-red-400">// ì´ë©”ì¼ë§Œ í™•ì¸ (ë³¸ì¸ì¸ì¦ ì—†ìŒ!)</span>
    if (user.getEmail().equals(email)) {
        
        <span class="text-red-400">// ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸</span>
        String tempPwd = "temp1234";
        user.setPassword(tempPwd);
        userRepository.save(user);
        
        <span class="text-red-400">// ì´ë©”ì¼ ë°œì†¡ (í‰ë¬¸)</span>
        sendEmail(email, "ì„ì‹œ ë¹„ë°€ë²ˆí˜¸: " + tempPwd);
        
        return "success";
    }
    return "fail";
}</code></pre>
                </div>

            </div>

            <!-- ìš°ì¸¡: ê²°ê³¼ ë° ì•ˆì „í•œ ì½”ë“œ -->
            <div class="space-y-4">
                
                <!-- ê³µê²© ì‹¤í–‰ ê²°ê³¼ -->
                <div class="bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-gray-800 text-white px-4 py-3 flex justify-between items-center">
                        <h3 class="font-bold">
                            <i class="fas fa-terminal"></i> ê³µê²© ì‹¤í–‰ ê²°ê³¼
                        </h3>
                        <span id="statusBadge" class="text-xs bg-green-500 text-gray-900 px-3 py-1 rounded">
                            ëŒ€ê¸°ì¤‘
                        </span>
                    </div>
                    <div id="attackResult" class="p-5 min-h-[300px] bg-white">
                        <div class="text-center text-gray-400 py-10">
                            <i class="fas fa-shield-halved text-5xl mb-3 opacity-30"></i>
                            <p class="text-sm">ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
                        </div>
                    </div>
                </div>

                <!-- ê³µê²© ë‹¨ê³„ -->
                <div id="attackStages" class="hidden bg-red-100 border-l-4 border-red-600 p-4 rounded-lg">
                    <h4 class="font-bold text-red-700 mb-2 flex items-center gap-2">
                        <i class="fas fa-list-ol"></i> ê³µê²© ì§„í–‰ ë‹¨ê³„
                    </h4>
                    <div id="stagesContent" class="text-sm text-red-700 space-y-1"></div>
                </div>

                <!-- í„°ë¯¸ë„ ì¶œë ¥ -->
                <div id="terminalBox" class="hidden bg-black text-green-400 p-4 rounded-lg shadow-lg">
                    <div class="font-bold mb-2 text-xs">
                        <i class="fas fa-terminal"></i> ATTACKER CONSOLE
                    </div>
                    <div id="terminalLines" class="code-font text-xs space-y-1 max-h-[200px] overflow-y-auto"></div>
                </div>

                <!-- ì•ˆì „í•œ ì½”ë“œ -->
                <div class="bg-gray-900 text-white p-4 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-bold text-green-400">
                            <i class="fas fa-shield-halved"></i> ì•ˆì „í•œ Java ì½”ë“œ
                        </h3>
                        <span class="text-xs bg-green-600 px-2 py-1 rounded">ê¶Œì¥</span>
                    </div>
                    <pre class="code-font text-xs overflow-x-auto max-h-[350px]"><code><span class="text-green-400">// âœ… ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬ ë¡œì§</span>
@PostMapping("/findPassword")
public String findPassword(String userId, 
                          String email, 
                          String phone) {
    
    User user = userRepository.findByUserId(userId);
    
    <span class="text-green-400">// 1. ë³¸ì¸ì¸ì¦ ê°•í™” (ì´ë©”ì¼ + íœ´ëŒ€í°)</span>
    if (!user.getEmail().equals(email) || 
        !user.getPhone().equals(phone)) {
        return "ì¸ì¦ ì‹¤íŒ¨";
    }
    
    <span class="text-green-400">// 2. SMS/ì´ë©”ì¼ ì¸ì¦ì½”ë“œ ë°œì†¡</span>
    String authCode = generateSecureToken(6);
    saveAuthCode(userId, authCode, 10); // 10ë¶„ ìœ íš¨
    
    sendSMS(phone, "ì¸ì¦ì½”ë“œ: " + authCode);
    
    return "redirect:/verifyAuthCode";
}

@PostMapping("/resetPassword")
public String resetPassword(String userId, 
                           String authCode,
                           String newPassword) {
    
    <span class="text-green-400">// 3. ì¸ì¦ì½”ë“œ ê²€ì¦ (ì‹œê°„ ì œí•œ)</span>
    if (!verifyAuthCode(userId, authCode)) {
        return "ì¸ì¦ì½”ë“œ ë§Œë£Œ ë˜ëŠ” ë¶ˆì¼ì¹˜";
    }
    
    <span class="text-green-400">// 4. ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦</span>
    if (!isStrongPassword(newPassword)) {
        return "ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ë¯¸ë‹¬";
    }
    
    <span class="text-green-400">// 5. ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥</span>
    String hashedPwd = BCrypt.hashpw(newPassword);
    user.setPassword(hashedPwd);
    userRepository.save(user);
    
    <span class="text-green-400">// 6. ê¸°ì¡´ ëª¨ë“  ì„¸ì…˜ ë¬´íš¨í™”</span>
    sessionRegistry.expireAllSessions(userId);
    
    <span class="text-green-400">// 7. ì•Œë¦¼ ë°œì†¡</span>
    sendEmail(email, "ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤");
    
    return "success";
}

<span class="text-gray-500">// ì•ˆì „í•œ í† í° ìƒì„±</span>
private String generateSecureToken(int length) {
    SecureRandom random = new SecureRandom();
    return random.ints(length, 0, 10)
        .mapToObj(String::valueOf)
        .collect(Collectors.joining());
}</code></pre>
                </div>

                <!-- ë°©ì–´ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
                <div class="bg-white p-4 rounded-lg shadow-lg">
                    <h3 class="font-bold mb-3 flex items-center gap-2">
                        <i class="fas fa-list-check text-red-600"></i>
                        ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
                    </h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ë‹¤ì¤‘ ë³¸ì¸ì¸ì¦:</strong> ì´ë©”ì¼ + SMS + ë³´ì•ˆì§ˆë¬¸</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì‹œê°„ ì œí•œ í† í°:</strong> 10ë¶„ ì´ë‚´ ì¸ì¦ì½”ë“œ</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì•ˆì „í•œ ë‚œìˆ˜ ìƒì„±:</strong> SecureRandom ì‚¬ìš©</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì„¸ì…˜ ë¬´íš¨í™”:</strong> ì¬ì„¤ì • í›„ ëª¨ë“  ì„¸ì…˜ ì¢…ë£Œ</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì•Œë¦¼ ë°œì†¡:</strong> ë³€ê²½ ì™„ë£Œ ì´ë©”ì¼/SMS</div>
                        </div>
                        <div class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <div><strong>ì¬ì‚¬ìš© ë°©ì§€:</strong> ì¸ì¦ì½”ë“œ ì¼íšŒìš©</div>
                        </div>
                    </div>
                </div>

                <!-- í‰ê°€ íŒì • -->
                <div id="judgementBox" class="hidden bg-gray-900 text-white p-4 rounded-lg">
                    <h3 class="font-bold text-indigo-400 mb-2 text-sm">
                        <i class="fas fa-gavel"></i> í‰ê°€ íŒì •
                    </h3>
                    <div class="text-xs space-y-1">
                        <div><strong>í‰ê°€í•­ëª©:</strong> WEB-SER-042 ì·¨ì•½í•œ ë¹„ë°€ë²ˆí˜¸ ë³µêµ¬</div>
                        <div><strong>íŒì •:</strong> <span id="judgement" class="text-red-400">ì·¨ì•½</span></div>
                        <div><strong>ê·¼ê±°:</strong> <span id="evidence"></span></div>
                    </div>
                </div>

                <!-- í”¼í•´ ì‹œë‚˜ë¦¬ì˜¤ -->
                <div id="damageBox" class="hidden bg-red-700 text-white p-4 rounded-lg">
                    <h3 class="font-bold mb-3">
                        <i class="fas fa-fire"></i> ì‹¤ì œ í”¼í•´ ì‚¬ë¡€
                    </h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex gap-2">
                            <span class="font-bold">1.</span>
                            <div><strong>íƒ€ì¸ ê³„ì • íƒˆì·¨</strong><br>ì´ë©”ì¼ ì£¼ì†Œë§Œìœ¼ë¡œ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">2.</span>
                            <div><strong>ë¬´ë‹¨ ì´ì²´</strong><br>íƒˆì·¨í•œ ê³„ì •ìœ¼ë¡œ ê¸ˆì „ í”¼í•´</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">3.</span>
                            <div><strong>ê°œì¸ì •ë³´ ìœ ì¶œ</strong><br>ê³„ì¢Œ ì •ë³´, ê±°ë˜ë‚´ì—­ ë…¸ì¶œ</div>
                        </div>
                        <div class="flex gap-2">
                            <span class="font-bold">4.</span>
                            <div><strong>ëŒ€ì¶œ ì‚¬ê¸°</strong><br>ëª…ì˜ ë„ìš©ìœ¼ë¡œ ëŒ€ì¶œ ì‹¤í–‰</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        function resetAll() {
            document.getElementById('userId').value = 'user12345';
            document.getElementById('userEmail').value = 'user@email.com';
            document.getElementById('step1').classList.remove('hidden');
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('attackResult').innerHTML = 
                '<div class="text-center text-gray-400 py-10">' +
                '<i class="fas fa-shield-halved text-5xl mb-3 opacity-30"></i>' +
                '<p class="text-sm">ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„ íƒí•˜ì„¸ìš”</p></div>';
            document.getElementById('attackStages').classList.add('hidden');
            document.getElementById('terminalBox').classList.add('hidden');
            document.getElementById('judgementBox').classList.add('hidden');
            document.getElementById('damageBox').classList.add('hidden');
            document.getElementById('statusBadge').textContent = 'ëŒ€ê¸°ì¤‘';
            document.getElementById('statusBadge').className = 'text-xs bg-green-500 text-gray-900 px-3 py-1 rounded';
        }

        async function sendTempPassword() {
            var badge = document.getElementById('statusBadge');
            badge.textContent = 'ì²˜ë¦¬ì¤‘...';
            badge.className = 'text-xs bg-yellow-500 text-gray-900 px-3 py-1 rounded';
            
            await sleep(1500);
            
            document.getElementById('step1').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
            
            badge.textContent = 'ë°œì†¡ì™„ë£Œ';
            badge.className = 'text-xs bg-green-500 text-gray-900 px-3 py-1 rounded';
        }

        async function loginWithTemp() {
            var badge = document.getElementById('statusBadge');
            badge.textContent = 'ë¡œê·¸ì¸ ì„±ê³µ';
            badge.className = 'text-xs bg-blue-500 text-white px-3 py-1 rounded';
            
            document.getElementById('attackResult').innerHTML = 
                '<div class="bg-blue-50 border-l-4 border-blue-500 p-4">' +
                '<h4 class="font-bold text-blue-700 mb-2">âœ… ë¡œê·¸ì¸ ì„±ê³µ</h4>' +
                '<p class="text-sm mb-2">ê³„ì¢Œë²ˆí˜¸: 110-123-456789</p>' +
                '<p class="text-sm mb-2">ì˜ˆê¸ˆì£¼: ê¹€ì² ìˆ˜</p>' +
                '<p class="text-sm">ì”ì•¡: 15,234,000ì›</p>' +
                '</div>';
        }

        async function attackScenario(type) {
            resetAll();
            await sleep(100);
            
            var result = document.getElementById('attackResult');
            var badge = document.getElementById('statusBadge');
            
            document.getElementById('attackStages').classList.remove('hidden');
            document.getElementById('terminalBox').classList.remove('hidden');
            document.getElementById('judgementBox').classList.remove('hidden');
            document.getElementById('damageBox').classList.remove('hidden');
            document.getElementById('terminalLines').innerHTML = '';
            
            if (type === 1) {
                // ì‹œë‚˜ë¦¬ì˜¤ 1: ë³¸ì¸ì¸ì¦ ìš°íšŒ
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. ê³µê²© ëŒ€ìƒì˜ ì´ë©”ì¼ ì£¼ì†Œ ìˆ˜ì§‘ (SNS, í”¼ì‹±)</div>' +
                    '<div>2. ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í˜ì´ì§€ ì ‘ì†</div>' +
                    '<div>3. íƒ€ì¸ ID + ì´ë©”ì¼ë§Œ ì…ë ¥</div>' +
                    '<div>4. ë³¸ì¸ì¸ì¦ ì—†ì´ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰!</div>';
                
                addTerminalLine('> ê³µê²© ëŒ€ìƒ: user12345');
                await sleep(500);
                addTerminalLine('> ìˆ˜ì§‘ëœ ì´ë©”ì¼: user@email.com');
                await sleep(500);
                addTerminalLine('> ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ìš”ì²­ ì „ì†¡...');
                await sleep(800);
                addTerminalLine('> [!] ë³¸ì¸ì¸ì¦ ì—†ì´ í†µê³¼!', 'text-red-400');
                await sleep(500);
                
                result.innerHTML = 
                    '<div class="bg-red-50 border-l-4 border-red-500 p-4">' +
                    '<h4 class="font-bold text-red-700 mb-3">âš ï¸ ë³¸ì¸ì¸ì¦ ìš°íšŒ ì„±ê³µ</h4>' +
                    '<div class="bg-white p-3 rounded mb-3 border">' +
                    '<p class="text-sm font-bold mb-2">ë°œì†¡ëœ ì´ë©”ì¼ ë‚´ìš©:</p>' +
                    '<div class="bg-gray-100 p-2 rounded text-xs">' +
                    '<p><strong>ë°›ëŠ” ì‚¬ëŒ:</strong> user@email.com</p>' +
                    '<p><strong>ì œëª©:</strong> [í•˜ë‚˜ë¡œì€í–‰] ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡</p>' +
                    '<p class="mt-2">ì•ˆë…•í•˜ì„¸ìš”, í•˜ë‚˜ë¡œì€í–‰ì…ë‹ˆë‹¤.</p>' +
                    '<p class="mt-1">ì„ì‹œ ë¹„ë°€ë²ˆí˜¸: <strong class="text-red-600">temp1234</strong></p>' +
                    '</div></div>' +
                    '<p class="text-sm text-red-600">âœ“ íœ´ëŒ€í° ì¸ì¦ ì—†ìŒ</p>' +
                    '<p class="text-sm text-red-600">âœ“ ë³´ì•ˆì§ˆë¬¸ ì—†ìŒ</p>' +
                    '<p class="text-sm text-red-600">âœ“ OTP ì¸ì¦ ì—†ìŒ</p>' +
                    '</div>';
                
                document.getElementById('evidence').textContent = 'ì´ë©”ì¼ë§Œìœ¼ë¡œ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ê°€ëŠ¥';
                badge.textContent = 'ì·¨ì•½';
                badge.className = 'text-xs bg-red-500 text-white px-3 py-1 rounded';
                
            } else if (type === 2) {
                // ì‹œë‚˜ë¦¬ì˜¤ 2: ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. ì—¬ëŸ¬ ê³„ì •ì˜ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ íŒ¨í„´ ë¶„ì„</div>' +
                    '<div>2. "temp1234" ê³ ì • íŒ¨í„´ ë°œê²¬</div>' +
                    '<div>3. ë¸Œë£¨íŠ¸í¬ìŠ¤ ê³µê²© ë¶ˆí•„ìš”</div>' +
                    '<div>4. ì¦‰ì‹œ ë¡œê·¸ì¸ ê°€ëŠ¥!</div>';
                
                addTerminalLine('> ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ íŒ¨í„´ ë¶„ì„ ì¤‘...');
                await sleep(500);
                addTerminalLine('> ê³„ì • A: temp1234');
                await sleep(300);
                addTerminalLine('> ê³„ì • B: temp1234');
                await sleep(300);
                addTerminalLine('> ê³„ì • C: temp1234');
                await sleep(500);
                addTerminalLine('> [!] íŒ¨í„´ ë°œê²¬: ê³ ì •ëœ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸!', 'text-red-400');
                await sleep(500);
                addTerminalLine('> ë¡œê·¸ì¸ ì‹œë„: user12345 / temp1234');
                await sleep(800);
                addTerminalLine('> âœ“ ë¡œê·¸ì¸ ì„±ê³µ!', 'text-red-400');
                
                result.innerHTML = 
                    '<div class="bg-red-50 border-l-4 border-red-500 p-4">' +
                    '<h4 class="font-bold text-red-700 mb-3">âš ï¸ ì˜ˆì¸¡ ê°€ëŠ¥í•œ íŒ¨í„´</h4>' +
                    '<div class="bg-white p-3 rounded mb-3">' +
                    '<p class="text-sm font-bold mb-2">ë¶„ì„ ê²°ê³¼:</p>' +
                    '<table class="w-full text-xs">' +
                    '<tr class="border-b"><th class="text-left py-1">ê³„ì •</th><th class="text-left py-1">ì„ì‹œ ë¹„ë°€ë²ˆí˜¸</th></tr>' +
                    '<tr class="border-b"><td class="py-1">user12345</td><td class="py-1 font-mono text-red-600">temp1234</td></tr>' +
                    '<tr class="border-b"><td class="py-1">admin001</td><td class="py-1 font-mono text-red-600">temp1234</td></tr>' +
                    '<tr><td class="py-1">test9999</td><td class="py-1 font-mono text-red-600">temp1234</td></tr>' +
                    '</table></div>' +
                    '<p class="text-sm text-red-600">âœ“ ëª¨ë“  ê³„ì • ë™ì¼í•œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸</p>' +
                    '<p class="text-sm text-red-600">âœ“ ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ë¶ˆí•„ìš”</p>' +
                    '</div>';
                
                document.getElementById('evidence').textContent = 'ê³ ì •ëœ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš©';
                badge.textContent = 'ì¹˜ëª…ì ';
                badge.className = 'text-xs bg-red-500 text-white px-3 py-1 rounded';
                
            } else if (type === 3) {
                // ì‹œë‚˜ë¦¬ì˜¤ 3: ìœ íš¨ê¸°ê°„ ì—†ëŠ” ì¬ì„¤ì • ë§í¬
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ íšë“</div>' +
                    '<div>2. ë§í¬ë¥¼ ì €ì¥ (bookmark)</div>' +
                    '<div>3. 1ê°œì›” í›„ì—ë„ ë§í¬ ìœ íš¨</div>' +
                    '<div>4. ì–¸ì œë“ ì§€ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ê°€ëŠ¥!</div>';
                
                addTerminalLine('> ì¬ì„¤ì • ë§í¬ íšë“: /reset?token=abc123...');
                await sleep(500);
                addTerminalLine('> ë§í¬ ì €ì¥ ì™„ë£Œ');
                await sleep(500);
                addTerminalLine('> [ì‹œê°„ ê²½ê³¼: 30ì¼ í›„]', 'text-yellow-400');
                await sleep(800);
                addTerminalLine('> ì €ì¥ëœ ë§í¬ ì ‘ì† ì‹œë„...');
                await sleep(500);
                addTerminalLine('> [!] ë§í¬ ì—¬ì „íˆ ìœ íš¨!', 'text-red-400');
                await sleep(500);
                addTerminalLine('> ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì„±ê³µ', 'text-red-400');
                
                result.innerHTML = 
                    '<div class="bg-red-50 border-l-4 border-red-500 p-4">' +
                    '<h4 class="font-bold text-red-700 mb-3">âš ï¸ ìœ íš¨ê¸°ê°„ ì—†ëŠ” í† í°</h4>' +
                    '<div class="bg-white p-3 rounded mb-3 border">' +
                    '<p class="text-sm font-bold mb-2">ì¬ì„¤ì • ë§í¬ ë¶„ì„:</p>' +
                    '<div class="bg-gray-100 p-2 rounded text-xs font-mono mb-2">' +
                    'https://bank.com/reset?token=abc123def456' +
                    '</div>' +
                    '<table class="w-full text-xs">' +
                    '<tr class="border-b"><th class="text-left py-1">í•­ëª©</th><th class="text-left py-1">ìƒíƒœ</th></tr>' +
                    '<tr class="border-b"><td class="py-1">ë°œê¸‰ì¼</td><td class="py-1">2024-11-01</td></tr>' +
                    '<tr class="border-b"><td class="py-1">í˜„ì¬ì¼</td><td class="py-1">2024-12-08</td></tr>' +
                    '<tr class="border-b"><td class="py-1">ìœ íš¨ê¸°ê°„</td><td class="py-1 text-red-600">ë¬´ì œí•œ</td></tr>' +
                    '<tr><td class="py-1">ì‚¬ìš© íšŸìˆ˜</td><td class="py-1 text-red-600">ì œí•œ ì—†ìŒ</td></tr>' +
                    '</table></div>' +
                    '<p class="text-sm text-red-600">âœ“ ì‹œê°„ ì œí•œ ì—†ìŒ</p>' +
                    '<p class="text-sm text-red-600">âœ“ ì¬ì‚¬ìš© ê°€ëŠ¥</p>' +
                    '</div>';
                
                document.getElementById('evidence').textContent = 'ì¬ì„¤ì • ë§í¬ ìœ íš¨ê¸°ê°„ ë¯¸ì„¤ì •';
                badge.textContent = 'ì·¨ì•½';
                badge.className = 'text-xs bg-red-500 text-white px-3 py-1 rounded';
                
            } else if (type === 4) {
                // ì‹œë‚˜ë¦¬ì˜¤ 4: íƒ€ì¸ ê³„ì • íƒˆì·¨ ê³µê²©
                document.getElementById('stagesContent').innerHTML = 
                    '<div>1. í”¼í•´ì ì´ë©”ì¼ ì£¼ì†Œ íšë“ (SNS, ëª…í•¨)</div>' +
                    '<div>2. ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°ë¡œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰</div>' +
                    '<div>3. í”¼í•´ì ì´ë©”ì¼ í•´í‚¹ (í”¼ì‹±)</div>' +
                    '<div>4. ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í›„ ë¡œê·¸ì¸</div>' +
                    '<div>5. ê³„ì¢Œ íƒˆì·¨ ë° ë¬´ë‹¨ ì´ì²´!</div>';
                
                addTerminalLine('> [STEP 1] ì†Œì…œ ì—”ì§€ë‹ˆì–´ë§');
                await sleep(500);
                addTerminalLine('> ëŒ€ìƒ: ê¹€ì² ìˆ˜ (CEO)');
                await sleep(300);
                addTerminalLine('> ì´ë©”ì¼: ceo@company.com (ëª…í•¨ì—ì„œ ìˆ˜ì§‘)');
                await sleep(500);
                addTerminalLine('> [STEP 2] ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ìš”ì²­');
                await sleep(500);
                addTerminalLine('> ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰ ì™„ë£Œ');
                await sleep(500);
                addTerminalLine('> [STEP 3] ì´ë©”ì¼ í•´í‚¹ (í”¼ì‹± ë©”ì¼)');
                await sleep(800);
                addTerminalLine('> [!] ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ íšë“: temp1234', 'text-red-400');
                await sleep(500);
                addTerminalLine('> [STEP 4] ê³„ì¢Œ ë¡œê·¸ì¸ ì„±ê³µ', 'text-red-400');
                await sleep(500);
                addTerminalLine('> ê³„ì¢Œ ì”ì•¡: 523,400,000ì›', 'text-yellow-400');
                await sleep(500);
                addTerminalLine('> [STEP 5] ë¬´ë‹¨ ì´ì²´ ì‹¤í–‰...', 'text-red-400');
                await sleep(800);
                addTerminalLine('> âœ“ ì´ì²´ ì™„ë£Œ: 500,000,000ì›', 'text-red-400');
                
                result.innerHTML = 
                    '<div class="bg-red-50 border-l-4 border-red-500 p-4">' +
                    '<h4 class="font-bold text-red-700 mb-3">ğŸš¨ ê³„ì¢Œ íƒˆì·¨ ì„±ê³µ</h4>' +
                    '<div class="bg-white p-3 rounded mb-3 border">' +
                    '<p class="text-sm font-bold mb-2">ê³µê²© íƒ€ì„ë¼ì¸:</p>' +
                    '<div class="space-y-2 text-xs">' +
                    '<div class="flex items-center gap-2">' +
                    '<span class="bg-gray-200 px-2 py-1 rounded">14:23</span>' +
                    '<span>ì´ë©”ì¼ ì£¼ì†Œ ìˆ˜ì§‘</span>' +
                    '</div>' +
                    '<div class="flex items-center gap-2">' +
                    '<span class="bg-gray-200 px-2 py-1 rounded">14:25</span>' +
                    '<span>ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ìš”ì²­</span>' +
                    '</div>' +
                    '<div class="flex items-center gap-2">' +
                    '<span class="bg-yellow-200 px-2 py-1 rounded">14:27</span>' +
                    '<span>í”¼ì‹± ë©”ì¼ ë°œì†¡</span>' +
                    '</div>' +
                    '<div class="flex items-center gap-2">' +
                    '<span class="bg-orange-200 px-2 py-1 rounded">14:45</span>' +
                    '<span>ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ íšë“</span>' +
                    '</div>' +
                    '<div class="flex items-center gap-2">' +
                    '<span class="bg-red-200 px-2 py-1 rounded">14:46</span>' +
                    '<span class="font-bold">ê³„ì¢Œ ë¡œê·¸ì¸ ì„±ê³µ</span>' +
                    '</div>' +
                    '<div class="flex items-center gap-2">' +
                    '<span class="bg-red-600 text-white px-2 py-1 rounded">14:50</span>' +
                    '<span class="font-bold">ë¬´ë‹¨ ì´ì²´: 5ì–µì›</span>' +
                    '</div>' +
                    '</div></div>' +
                    '<div class="bg-red-900 text-red-100 p-3 rounded text-sm">' +
                    '<p class="font-bold mb-1">ğŸ’° ê¸ˆì „ í”¼í•´</p>' +
                    '<p>ì´ì²´ ê¸ˆì•¡: 500,000,000ì›</p>' +
                    '<p>ì†Œìš” ì‹œê°„: 27ë¶„</p>' +
                    '</div>' +
                    '</div>';
                
                document.getElementById('evidence').textContent = 'ë³¸ì¸ì¸ì¦ ë¯¸í¡ìœ¼ë¡œ ê³„ì¢Œ íƒˆì·¨';
                badge.textContent = 'ì¹˜ëª…ì ';
                badge.className = 'text-xs bg-red-600 text-white px-3 py-1 rounded';
            }
        }

        function addTerminalLine(text, color) {
            var div = document.createElement('div');
            div.className = color || 'text-green-400';
            div.textContent = text;
            document.getElementById('terminalLines').appendChild(div);
            document.getElementById('terminalLines').scrollTop = 
                document.getElementById('terminalLines').scrollHeight;
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>